import{a as P}from"./chunk-VQV6X66N.js";import{a as ee}from"./chunk-4IF4V5CL.js";import{a as te}from"./chunk-Y2FJE2GB.js";import{b as K,e as Q,i as X,j as Z}from"./chunk-BAMGXGUD.js";import{Bb as C,Da as j,Eb as N,F as I,Ha as f,Ia as g,Na as p,Oa as a,Ob as L,P as y,Pa as n,Qa as h,Qb as V,R as x,Rb as F,S as b,Va as S,Xa as w,Ya as s,bc as q,db as O,ec as H,gb as $,hb as m,ib as M,jb as d,kb as U,kc as W,la as o,m as v,n as J,ob as B,qb as A,rc as E,sc as Y,tc as G,ub as c,v as T,va as _,wb as u,xb as z,za as R}from"./chunk-5OZSCIHB.js";var k=class t{theme=N("primary");employee=N.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["jt-ui-employee-weekly-summary-card"]],hostVars:2,hostBindings:function(e,r){e&2&&$(r.theme())},inputs:{theme:[1,"theme"],employee:[1,"employee"]},decls:21,vars:20,consts:[["role","article",1,"employee-card",3,"aria-label"],[1,"card-top"],[1,"avatar"],[3,"iconSizePx"],[1,"name-and-range"],[1,"name"],[1,"range"],[1,"hours"],[1,"card-bottom"],[1,"label"],[1,"tip"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"jt-ui-icon",3),m(4," face "),n()(),a(5,"div",4)(6,"div",5),m(7),n(),a(8,"div",6),m(9),c(10,"date"),c(11,"date"),n()(),a(12,"div",7),m(13),c(14,"number"),n()(),a(15,"div",8)(16,"div",9),m(17,"Tip share"),n(),a(18,"div",10),m(19),c(20,"currency"),n()()()),e&2&&(j("aria-label",B(r.employee().employeeName)),o(3),p("iconSizePx",48),o(4),M(r.employee().employeeName),o(2),U(" ",u(10,8,r.employee().rangeStartDate,"MMM d")," \u2014 ",u(11,11,r.employee().rangeEndDate,"MMM d, yyyy")," "),o(4),d("",u(14,14,r.employee().hoursWorked,"1.1-2"),"h"),o(6),M(u(20,17,r.employee().tipShare,"EUR")))},dependencies:[Y,F,L,V],styles:["[_nghost-%COMP%]{display:block;background:var(--mat-sys-surface, #ffffff);color:var(--mat-sys-on-surface, #111111);width:100%;max-width:520px}.employee-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px;border-radius:12px;box-shadow:0 1px 3px #0000001f,0 4px 6px #0000000f;transition:transform .12s ease,box-shadow .18s ease;width:100%;box-sizing:border-box;border:var(--card-border)}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.card-top[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem}.avatar[_ngcontent-%COMP%]{margin-right:12px;border:var(--card-border);border-radius:50%;display:flex;justify-content:center;align-items:center}.hours[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-primary, #6200ee);margin-left:auto}.range[_ngcontent-%COMP%]{font-size:.9rem}.card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.label[_ngcontent-%COMP%]{font-size:.85rem}.tip[_ngcontent-%COMP%]{font-weight:700;color:var(--mat-sys-primary, #6200ee)}@media (min-width: 600px){[_nghost-%COMP%]{width:calc(50% - 8px)}}"],changeDetection:0})};function ne(t,i){if(t&1){let e=S();a(0,"jt-ui-icon-button",7),w("click",function(){x(e);let l=s();return b(l.nextWeek())}),n()}t&2&&p("iconName","arrow_circle_right")}function ae(t,i){if(t&1&&(h(0,"jt-ui-employee-weekly-summary-card",8),a(1,"jt-ui-button",9),m(2," Add Shift "),n()),t&2){let e=s();p("employee",i),o(),p("routerLink",e._addShiftRoute())}}function me(t,i){t&1&&(a(0,"h1"),m(1,"No Soup for you !!!!"),n())}function pe(t,i){if(t&1&&f(0,me,2,0,"h1"),t&2){let e=s();g(!e._loading()&&!e._errorMsg()?0:-1)}}function le(t,i){if(t&1&&m(0),t&2){let e=s();d(" ",e._title(),`
`)}}var ie=class t{_employeeIoService=y(Q);_actRoute=y(q);_weekNumberRouteService=y(P);_weekNumber$=this._weekNumberRouteService.weekNumber$.pipe(I(0));_weekNumber=this._weekNumberRouteService.weekNumber;_weekNumberString=this._weekNumberRouteService.weekNumberString;_id$=this._actRoute.paramMap.pipe(v(i=>i.get(E.DETAIL_ID_PARAM)??void 0),T(i=>!!i));_id=W(this._id$);_title=C(()=>`Summary Week (${this._weekNumberString()})`);_idAndWeek$=J([this._id$,this._weekNumber$]).pipe(v(([i,e])=>({id:i,weekNumber:e})));_idAndWeek=W(this._idAndWeek$);_summaryState=K.CreateWithObservableInput(this._idAndWeek$,i=>this._employeeIoService.getEmployeeWeeklySummaryById(i.id,i.weekNumber));_summary=this._summaryState.data;_successMsg=this._summaryState.successMsg;_errorMsg=this._summaryState.errorMsg;_loading=this._summaryState.loading;_addShiftRoute=C(()=>`/${E.route("add-shift")}/${this._id()}`);previousWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()-1);nextWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()+1);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["jt-weekly-summary"]],features:[A([P])],decls:12,vars:8,consts:[["titleTemplate",""],[1,"header"],[1,"week"],["jtTooltip","Previous Week","theme","primary",3,"click","iconName"],["jtTooltip","Next Week","theme","primary",3,"iconName"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"],["jtTooltip","Next Week","theme","primary",3,"click","iconName"],[3,"employee"],["id","btn-shift",3,"routerLink"]],template:function(e,r){if(e&1){let l=S();a(0,"div",1)(1,"div",2)(2,"jt-ui-icon-button",3),w("click",function(){return x(l),b(r.previousWeek())}),n(),a(3,"h2"),m(4),n(),f(5,ne,1,1,"jt-ui-icon-button",4),n()(),f(6,ae,3,2)(7,pe,1,1),h(8,"jt-notifications-modal",5),R(9,le,1,1,"ng-template",null,0,z),h(11,"sb-portal-input",6)}if(e&2){let l,D=O(10);o(2),p("iconName","arrow_circle_left"),o(2),d("Summary - Week (",r._weekNumberString(),")"),o(),g(r._weekNumber()?5:-1),o(),g((l=r._summary())?6:7,l),o(2),p("isLoading",r._loading())("errorMsg",r._errorMsg())("successMsg",r._successMsg()),o(3),p("portalTemplate",D)}},dependencies:[Z,G,X,te,k,ee,H],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;padding-top:175px;width:100%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center;position:fixed;top:50px;width:100%;background:var(--mat-sys-surface);z-index:10}.week[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0})};export{ie as JtEmployeeWeeklySummary};
