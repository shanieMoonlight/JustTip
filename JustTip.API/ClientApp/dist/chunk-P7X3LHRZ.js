import{a as D}from"./chunk-XUECQXR5.js";import{a as ee}from"./chunk-5VA4Y6PK.js";import{a as te}from"./chunk-MN3D2SM6.js";import{b as K,e as Q,i as X,j as Z}from"./chunk-5M3UT6VB.js";import{c as W,j as P,k as G}from"./chunk-NLJGBAOU.js";import{Aa as R,B as x,Cb as N,Ea as j,Fb as E,Ia as f,Ja as g,Oa as l,P as y,Pa as a,Pb as L,Qa as n,R as b,Ra as h,Rb as V,S,Sb as F,Wa as w,Ya as C,Za as s,cc as q,eb as O,fc as H,hb as U,ib as m,jb as M,jc as Y,kb as d,la as o,lb as $,m as v,n as J,pb as B,rb as A,v as I,vb as c,wa as _,xb as u,yb as z}from"./chunk-PYDYA4YI.js";var k=class t{theme=E("primary");employee=E.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["jt-ui-employee-weekly-summary-card"]],hostVars:2,hostBindings:function(e,r){e&2&&U(r.theme())},inputs:{theme:[1,"theme"],employee:[1,"employee"]},decls:21,vars:20,consts:[["role","article",1,"employee-card",3,"aria-label"],[1,"card-top"],[1,"avatar"],[3,"iconSizePx"],[1,"name-and-range"],[1,"name"],[1,"range"],[1,"hours"],[1,"card-bottom"],[1,"label"],[1,"tip"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"jt-ui-icon",3),m(4," face "),n()(),a(5,"div",4)(6,"div",5),m(7),n(),a(8,"div",6),m(9),c(10,"date"),c(11,"date"),n()(),a(12,"div",7),m(13),c(14,"number"),n()(),a(15,"div",8)(16,"div",9),m(17,"Tip share"),n(),a(18,"div",10),m(19),c(20,"currency"),n()()()),e&2&&(j("aria-label",B(r.employee().employeeName)),o(3),l("iconSizePx",48),o(4),M(r.employee().employeeName),o(2),$(" ",u(10,8,r.employee().rangeStartDate,"MMM d")," \u2014 ",u(11,11,r.employee().rangeEndDate,"MMM d, yyyy")," "),o(4),d("",u(14,14,r.employee().hoursWorked,"1.1-2"),"h"),o(6),M(u(20,17,r.employee().tipShare,"EUR")))},dependencies:[Y,F,L,V],styles:["[_nghost-%COMP%]{display:block;background:var(--mat-sys-surface, #ffffff);color:var(--mat-sys-on-surface, #111111);width:100%;max-width:520px}.employee-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px;border-radius:12px;box-shadow:0 1px 3px #0000001f,0 4px 6px #0000000f;transition:transform .12s ease,box-shadow .18s ease;width:100%;box-sizing:border-box;border:var(--card-border)}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.card-top[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem}.avatar[_ngcontent-%COMP%]{margin-right:12px;border:var(--card-border);border-radius:50%;display:flex;justify-content:center;align-items:center}.hours[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-primary, #6200ee);margin-left:auto}.range[_ngcontent-%COMP%]{font-size:.9rem}.card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.label[_ngcontent-%COMP%]{font-size:.85rem}.tip[_ngcontent-%COMP%]{font-weight:700;color:var(--mat-sys-primary, #6200ee)}@media (min-width: 600px){[_nghost-%COMP%]{width:calc(50% - 8px)}}"],changeDetection:0})};function ne(t,i){if(t&1){let e=w();a(0,"jt-ui-icon-button",7),C("click",function(){b(e);let p=s();return S(p.nextWeek())}),n()}t&2&&l("iconName","arrow_circle_right")}function ae(t,i){if(t&1&&(h(0,"jt-ui-employee-weekly-summary-card",8),a(1,"jt-ui-button",9),m(2," Add Shift "),n()),t&2){let e=s();l("employee",i),o(),l("routerLink",e._addShiftRoute())}}function me(t,i){t&1&&(a(0,"h1"),m(1,"No Soup for you !!!!"),n())}function le(t,i){if(t&1&&f(0,me,2,0,"h1"),t&2){let e=s();g(!e._loading()&&!e._errorMsg()?0:-1)}}function pe(t,i){if(t&1&&m(0),t&2){let e=s();d(" ",e._title(),`
`)}}var ie=class t{_employeeIoService=y(Q);_actRoute=y(q);_weekNumberRouteService=y(D);_weekNumber$=this._weekNumberRouteService.weekNumber$;_weekNumber=this._weekNumberRouteService.weekNumber;_weekNumberString=this._weekNumberRouteService.weekNumberString;_id$=this._actRoute.paramMap.pipe(v(i=>i.get(P.DETAIL_ID_PARAM)??void 0),I(i=>!!i),x());_id=W(this._id$);_title=N(()=>`Summary Week (${this._weekNumberString()})`);_idAndWeek$=J([this._id$,this._weekNumber$]).pipe(v(([i,e])=>({id:i,weekNumber:e})),x());_idAndWeek=W(this._idAndWeek$);_summaryState=K.CreateWithObservableInput(this._idAndWeek$,i=>this._employeeIoService.getEmployeeWeeklySummaryById(i.id,i.weekNumber));_summary=this._summaryState.data;_successMsg=this._summaryState.successMsg;_errorMsg=this._summaryState.errorMsg;_loading=this._summaryState.loading;_addShiftRoute=N(()=>`/${P.route("add-shift")}/${this._id()}`);previousWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()-1);nextWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()+1);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["jt-weekly-summary"]],features:[A([D])],decls:12,vars:8,consts:[["titleTemplate",""],[1,"header"],[1,"week"],["jtTooltip","Previous Week","theme","primary",3,"click","iconName"],["jtTooltip","Next Week","theme","primary",3,"iconName"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"],["jtTooltip","Next Week","theme","primary",3,"click","iconName"],[3,"employee"],["id","btn-shift",3,"routerLink"]],template:function(e,r){if(e&1){let p=w();a(0,"div",1)(1,"div",2)(2,"jt-ui-icon-button",3),C("click",function(){return b(p),S(r.previousWeek())}),n(),a(3,"h2"),m(4),n(),f(5,ne,1,1,"jt-ui-icon-button",4),n()(),f(6,ae,3,2)(7,le,1,1),h(8,"jt-notifications-modal",5),R(9,pe,1,1,"ng-template",null,0,z),h(11,"sb-portal-input",6)}if(e&2){let p,T=O(10);o(2),l("iconName","arrow_circle_left"),o(2),d("Summary - Week (",r._weekNumberString(),")"),o(),g(r._weekNumber()?5:-1),o(),g((p=r._summary())?6:7,p),o(2),l("isLoading",r._loading())("errorMsg",r._errorMsg())("successMsg",r._successMsg()),o(3),l("portalTemplate",T)}},dependencies:[Z,G,X,te,k,ee,H],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;padding-top:175px;width:100%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center;position:fixed;top:50px;width:100%;background:var(--mat-sys-surface);z-index:10}.week[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0})};export{ie as JtEmployeeWeeklySummary};
