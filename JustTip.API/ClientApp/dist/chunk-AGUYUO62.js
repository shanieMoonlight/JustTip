import{a as S}from"./chunk-VQV6X66N.js";import{a as $}from"./chunk-4IF4V5CL.js";import{a as F}from"./chunk-YJHUETV6.js";import{b as y,h as R,i as B,j as V}from"./chunk-BAMGXGUD.js";import{Bb as g,Ha as b,Ia as h,Ja as M,La as P,Ma as E,Na as c,Oa as a,Ob as J,P as f,Pa as o,Qa as l,R as x,Rb as O,S as v,Va as k,Xa as w,Ya as m,db as W,hb as p,ib as T,jb as d,la as n,qb as I,tc as D,ub as _,va as N,wb as u,xb as j,za as C}from"./chunk-5OZSCIHB.js";function z(e,i){if(e&1){let t=k();a(0,"jt-ui-icon-button",10),w("click",function(){x(t);let s=m();return v(s.nextWeek())}),o()}e&2&&c("iconName","arrow_circle_right")}function L(e,i){if(e&1&&(a(0,"div",7)(1,"div",11),p(2),_(3,"date"),o(),a(4,"div",12),p(5),_(6,"currency"),o()()),e&2){let t=i.$implicit;n(2),T(u(3,2,t.dateTime,"EEEE h:mm:ss a")),n(3),T(u(6,5,t.amountEuros,"EUR"))}}function A(e,i){e&1&&(a(0,"h1"),p(1,"No Soup for you !!!!"),o())}function Y(e,i){if(e&1&&b(0,A,2,0,"h1"),e&2){let t=m();h(!t._loading()&&!t._errorMsg()?0:-1)}}function q(e,i){if(e&1&&p(0),e&2){let t=m();d(" ",t._title(),`
`)}}var U=class e{_tipIoService=f(R);_weekNumberRouteService=f(S);_weekNumber$=this._weekNumberRouteService.weekNumber$;_weekNumber=this._weekNumberRouteService.weekNumber;_weekNumberString=this._weekNumberRouteService.weekNumberString;_title=g(()=>`Tips Week: (${this._weekNumberString()})`);_totalTipsState=y.CreateWithObservableInput(this._weekNumber$,i=>this._tipIoService.getTipsTotalByWeek(i));_tipsState=y.CreateWithObservableInput(this._weekNumber$,i=>this._tipIoService.getAllTipsByWeek(i));_notificationStates=F.Combine(this._totalTipsState,this._tipsState);_totalTips=g(()=>this._totalTipsState.data());_tips=g(()=>this._tipsState.data());_successMsg=this._notificationStates.successMsg;_errorMsg=this._notificationStates.errorMsg;_loading=this._notificationStates.loading;previousWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()-1);nextWeek=()=>this._weekNumberRouteService.setWeek(this._weekNumber()+1);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=N({type:e,selectors:[["jt-tips"]],features:[I([S])],decls:18,vars:12,consts:[["titleTemplate",""],[1,"button-previous"],[1,"header"],[1,"week"],["jtTooltip","Previous Week","theme","primary",3,"click","iconName"],["jtTooltip","Next Week","theme","primary",3,"iconName"],[1,"tips"],[1,"tip-display"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"],["jtTooltip","Next Week","theme","primary",3,"click","iconName"],[1,"tip-day"],[1,"tip-amount"]],template:function(t,r){if(t&1){let s=k();l(0,"div",1),a(1,"div",2)(2,"div",3)(3,"jt-ui-icon-button",4),w("click",function(){return x(s),v(r.previousWeek())}),o(),a(4,"h2"),p(5),o(),b(6,z,1,1,"jt-ui-icon-button",5),o(),a(7,"h2"),p(8),_(9,"currency"),o()(),a(10,"div",6),P(11,L,7,8,"div",7,M,!1,Y,1,1),o(),l(14,"jt-notifications-modal",8),C(15,q,1,1,"ng-template",null,0,j),l(17,"sb-portal-input",9)}if(t&2){let s=W(16);n(3),c("iconName","arrow_circle_left"),n(2),d("Week (",r._weekNumberString(),")"),n(),h(r._weekNumber()?6:-1),n(2),d("Total Tips : ",u(9,9,r._totalTips(),"EUR")),n(3),E(r._tips()),n(3),c("isLoading",r._loading())("errorMsg",r._errorMsg())("successMsg",r._successMsg()),n(3),c("portalTemplate",s)}},dependencies:[V,D,$,B,J,O],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;width:100%;padding-top:175px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center;position:fixed;top:50px;width:100%;background:var(--mat-sys-surface);z-index:10}.week[_ngcontent-%COMP%]{display:flex;align-items:center}.tips[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%;align-items:stretch;width:90%;max-width:350px}.tip-display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:12px;background:var(--mat-sys-surface, #ffffff);color:var(--mat-sys-on-surface, #111111);box-shadow:0 1px 3px #0000001f,0 4px 6px #0000000f;transition:transform .12s ease,box-shadow .18s ease;width:90%}.tip-display[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 18px #0000001f}.tip-content[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.tip-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--mat-sys-primary, #6200ee);font-size:1.05rem}.tip-meta[_ngcontent-%COMP%]{color:#0009;font-size:.875rem}"],changeDetection:0})};export{U as JtTipsPage};
