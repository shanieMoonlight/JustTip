import{a as A,b as F}from"./chunk-M4M34LH7.js";import"./chunk-NBXJG5YR.js";import"./chunk-Y2FJE2GB.js";import{a as N}from"./chunk-YJHUETV6.js";import{b as _,g as $,j as w}from"./chunk-BAMGXGUD.js";import{Bb as h,I as v,Na as n,Oa as p,P as r,Pa as f,Qa as m,R as y,S as M,Va as P,Xa as b,Ya as C,bc as J,db as E,dc as R,hb as l,jb as d,kc as x,la as s,m as S,rc as c,tc as j,v as u,va as I,xb as T,za as D}from"./chunk-5OZSCIHB.js";function U(o,t){if(o&1&&l(0),o&2){let i=C();d(" ",i._title(),`
`)}}var B=class o{_rosterIoService=r($);_actRoute=r(J);_router=r(R);_toaster=r(F);_shiftId$=this._actRoute.paramMap.pipe(v(t=>console.log("Shift ID Params:",t)),S(t=>t.get(c.SHIFT_ID_PARAM)??void 0),u(t=>!!t));_shiftId=x(this._shiftId$);_shiftState=_.CreateWithObservableInput(this._shiftId$,t=>this._rosterIoService.getByShiftId(t));editShift=t=>this._editShiftState.trigger(t);_editShiftState=_.CreateWithInput(t=>this._rosterIoService.editShift(t.id,t)).setOnSuccessFn(()=>{this._toaster.success("Shift Updated!"),this._router.navigateByUrl(`/${c.route("employee-shifts")}/${this._shift()?.employee.id}`)});_notificationStates=N.Combine(this._shiftState,this._editShiftState);_shift=this._shiftState.data;_employee=h(()=>this._shift()?.employee);_title=h(()=>`Edit Shift - ${this._employee()?.name}`);_successMsg=this._notificationStates.successMsg;_errorMsg=this._notificationStates.errorMsg;_loading=this._notificationStates.loading;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=I({type:o,selectors:[["jt-edit-shift"]],decls:8,vars:7,consts:[["titleTemplate",""],[1,"header"],[3,"shift","shiftToEdit","employee"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"]],template:function(i,e){if(i&1){let a=P();p(0,"div",1)(1,"h2"),l(2),f()(),p(3,"jt-shift-form",2),b("shift",function(O){return y(a),M(e.editShift(O))}),f(),m(4,"jt-notifications-modal",3),D(5,U,1,1,"ng-template",null,0,T),m(7,"sb-portal-input",4)}if(i&2){let a,g=E(6);s(2),d("Edit Shift for ",(a=e._employee())==null?null:a.name),s(),n("shiftToEdit",e._shift())("employee",e._employee()),s(),n("isLoading",e._loading())("errorMsg",e._errorMsg())("successMsg",e._successMsg()),s(3),n("portalTemplate",g)}},dependencies:[w,j,A],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;justify-self:center;width:100%;min-height:90vh}"],changeDetection:0})};export{B as JtEditShiftPage};
