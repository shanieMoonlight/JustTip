import{a as w,b as N}from"./chunk-V6YOG75W.js";import"./chunk-SY3AVVXJ.js";import"./chunk-MN3D2SM6.js";import{a as $}from"./chunk-TW3OO4I6.js";import{b as _,e as R,j}from"./chunk-5M3UT6VB.js";import{c as T,j as c,k as E}from"./chunk-NLJGBAOU.js";import{Aa as M,Cb as D,Oa as n,P as a,Pa as p,Qa as m,R as u,Ra as l,S as y,Wa as I,Ya as P,Za as C,cc as x,eb as b,ec as J,ib as d,kb as f,la as r,m as g,v as S,wa as v,yb as A}from"./chunk-PYDYA4YI.js";function F(o,e){if(o&1&&d(0),o&2){let t=C();f(" ",t._title(),`
`)}}var O=class o{_employeeIoService=a(R);_actRoute=a(x);_router=a(J);_toaster=a(N);_employeeId$=this._actRoute.paramMap.pipe(g(e=>e.get(c.EMPLOYEE_ID_PARAM)??void 0),S(e=>!!e));_employeeId=T(this._employeeId$);_employeeState=_.CreateWithObservableInput(this._employeeId$,e=>this._employeeIoService.getById(e));addShift=e=>this._addShiftState.trigger(e);_addShiftState=_.CreateWithInput(e=>this._employeeIoService.addShift(e)).setOnSuccessFn(()=>{this._toaster.success("Shift added Successfully!"),this._router.navigateByUrl(`/${c.route("employee-shifts")}/${this._employeeId()}`)});_notificationStates=$.Combine(this._employeeState,this._addShiftState);_employee=this._employeeState.data;_title=D(()=>`Add Shift - ${this._employee()?.name}`);_successMsg=this._notificationStates.successMsg;_errorMsg=this._notificationStates.errorMsg;_loading=this._notificationStates.loading;static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["jt-add-shift"]],decls:8,vars:6,consts:[["titleTemplate",""],[1,"header"],[3,"shift","employee"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"]],template:function(t,i){if(t&1){let s=I();p(0,"div",1)(1,"h2"),d(2),m()(),p(3,"jt-shift-form",2),P("shift",function(B){return u(s),y(i.addShift(B))}),m(),l(4,"jt-notifications-modal",3),M(5,F,1,1,"ng-template",null,0,A),l(7,"sb-portal-input",4)}if(t&2){let s,h=b(6);r(2),f("Add Shift for ",(s=i._employee())==null?null:s.name),r(),n("employee",i._employee()),r(),n("isLoading",i._loading())("errorMsg",i._errorMsg())("successMsg",i._successMsg()),r(3),n("portalTemplate",h)}},dependencies:[j,E,w],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;justify-self:center;width:100%;min-height:90vh}"],changeDetection:0})};export{O as JtAddShiftPage};
