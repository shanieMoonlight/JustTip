import{a as w,b as N}from"./chunk-M4M34LH7.js";import"./chunk-NBXJG5YR.js";import"./chunk-Y2FJE2GB.js";import{a as $}from"./chunk-YJHUETV6.js";import{b as _,e as R,j}from"./chunk-BAMGXGUD.js";import{Bb as D,Na as n,Oa as p,P as r,Pa as m,Qa as d,R as u,S as y,Va as I,Xa as P,Ya as C,bc as x,db as b,dc as J,hb as l,jb as f,kc as T,la as a,m as g,rc as c,tc as E,v as S,va as v,xb as A,za as M}from"./chunk-5OZSCIHB.js";function F(o,e){if(o&1&&l(0),o&2){let t=C();f(" ",t._title(),`
`)}}var O=class o{_employeeIoService=r(R);_actRoute=r(x);_router=r(J);_toaster=r(N);_employeeId$=this._actRoute.paramMap.pipe(g(e=>e.get(c.EMPLOYEE_ID_PARAM)??void 0),S(e=>!!e));_employeeId=T(this._employeeId$);_employeeState=_.CreateWithObservableInput(this._employeeId$,e=>this._employeeIoService.getById(e));addShift=e=>this._addShiftState.trigger(e);_addShiftState=_.CreateWithInput(e=>this._employeeIoService.addShift(e)).setOnSuccessFn(()=>{this._toaster.success("Shift added Successfully!"),this._router.navigateByUrl(`/${c.route("employee-shifts")}/${this._employeeId()}`)});_notificationStates=$.Combine(this._employeeState,this._addShiftState);_employee=this._employeeState.data;_title=D(()=>`Add Shift - ${this._employee()?.name}`);_successMsg=this._notificationStates.successMsg;_errorMsg=this._notificationStates.errorMsg;_loading=this._notificationStates.loading;static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["jt-add-shift"]],decls:8,vars:6,consts:[["titleTemplate",""],[1,"header"],[3,"shift","employee"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"]],template:function(t,i){if(t&1){let s=I();p(0,"div",1)(1,"h2"),l(2),m()(),p(3,"jt-shift-form",2),P("shift",function(B){return u(s),y(i.addShift(B))}),m(),d(4,"jt-notifications-modal",3),M(5,F,1,1,"ng-template",null,0,A),d(7,"sb-portal-input",4)}if(t&2){let s,h=b(6);a(2),f("Add Shift for ",(s=i._employee())==null?null:s.name),a(),n("employee",i._employee()),a(),n("isLoading",i._loading())("errorMsg",i._errorMsg())("successMsg",i._successMsg()),a(3),n("portalTemplate",h)}},dependencies:[j,E,w],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;justify-self:center;width:100%;min-height:90vh}"],changeDetection:0})};export{O as JtAddShiftPage};
