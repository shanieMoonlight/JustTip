import{a as A,b as F}from"./chunk-V6YOG75W.js";import"./chunk-SY3AVVXJ.js";import"./chunk-MN3D2SM6.js";import{a as N}from"./chunk-TW3OO4I6.js";import{b as _,g as $,j as w}from"./chunk-5M3UT6VB.js";import{c as J,j as c,k as j}from"./chunk-NLJGBAOU.js";import{Aa as D,Cb as d,I as v,Oa as n,P as r,Pa as p,Qa as f,R as y,Ra as m,S as M,Wa as b,Ya as C,Za as E,cc as R,eb as P,ec as x,ib as l,kb as h,la as s,m as S,v as u,wa as I,yb as T}from"./chunk-PYDYA4YI.js";function U(o,t){if(o&1&&l(0),o&2){let i=E();h(" ",i._title(),`
`)}}var B=class o{_rosterIoService=r($);_actRoute=r(R);_router=r(x);_toaster=r(F);_shiftId$=this._actRoute.paramMap.pipe(v(t=>console.log("Shift ID Params:",t)),S(t=>t.get(c.SHIFT_ID_PARAM)??void 0),u(t=>!!t));_shiftId=J(this._shiftId$);_shiftState=_.CreateWithObservableInput(this._shiftId$,t=>this._rosterIoService.getByShiftId(t));editShift=t=>this._editShiftState.trigger(t);_editShiftState=_.CreateWithInput(t=>this._rosterIoService.editShift(t.id,t)).setOnSuccessFn(()=>{this._toaster.success("Shift Updated!"),this._router.navigateByUrl(`/${c.route("employee-shifts")}/${this._shift()?.employee.id}`)});_notificationStates=N.Combine(this._shiftState,this._editShiftState);_shift=this._shiftState.data;_employee=d(()=>this._shift()?.employee);_title=d(()=>`Edit Shift - ${this._employee()?.name}`);_successMsg=this._notificationStates.successMsg;_errorMsg=this._notificationStates.errorMsg;_loading=this._notificationStates.loading;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=I({type:o,selectors:[["jt-edit-shift"]],decls:8,vars:7,consts:[["titleTemplate",""],[1,"header"],[3,"shift","shiftToEdit","employee"],[3,"isLoading","errorMsg","successMsg"],["name","title",3,"portalTemplate"]],template:function(i,e){if(i&1){let a=b();p(0,"div",1)(1,"h2"),l(2),f()(),p(3,"jt-shift-form",2),C("shift",function(O){return y(a),M(e.editShift(O))}),f(),m(4,"jt-notifications-modal",3),D(5,U,1,1,"ng-template",null,0,T),m(7,"sb-portal-input",4)}if(i&2){let a,g=P(6);s(2),h("Edit Shift for ",(a=e._employee())==null?null:a.name),s(),n("shiftToEdit",e._shift())("employee",e._employee()),s(),n("isLoading",e._loading())("errorMsg",e._errorMsg())("successMsg",e._successMsg()),s(3),n("portalTemplate",g)}},dependencies:[w,j,A],styles:["[_nghost-%COMP%]{display:block;display:flex;flex-direction:column;gap:16px;align-items:center;justify-self:center;width:100%;min-height:90vh}"],changeDetection:0})};export{B as JtEditShiftPage};
