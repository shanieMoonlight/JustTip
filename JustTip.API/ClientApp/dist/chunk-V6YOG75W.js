import{B as He,C as ut,H as re,I as we,J as mt,K as di,L as ci,M as fe,N as hi,O as ui,P as mi,R as pi,S as fi,U as gi,V as _i,W as bi,X as wi,c as lt,d as V,f as b,g as dt,h as Be,i as F,m as si,o as ie,p as oe,s as ct,t as ai,u as ne,z as ht}from"./chunk-SY3AVVXJ.js";import{a as Ti}from"./chunk-MN3D2SM6.js";import{a as ni,c as ri,d as pe,f as oi,h as Ye,i as li}from"./chunk-NLJGBAOU.js";import{Aa as Le,Ab as Kt,Bb as Qt,Cb as Xt,E as Et,Eb as Jt,F as Ve,Fa as O,Ga as Yt,H as Vt,Ha as Ht,Hb as q,Ia as x,Ib as at,Ja as E,K as Fe,Ka as tt,L as A,La as Wt,Lb as ei,M as j,Ma as ke,Mb as ti,N as H,Na as Se,Nb as Ne,O as U,Oa as p,Ob as ii,P as C,Pa as l,Qa as c,R as f,Ra as y,S as g,T as R,Tb as ot,U as Te,V as G,Va as it,W as be,Wa as S,X as Ft,Xa as jt,Ya as w,Za as m,_ as I,a as xe,b as kt,bb as X,ca as Re,cb as J,d as P,db as ee,ea as K,eb as W,f as St,fb as Z,g as v,gb as N,hb as zt,ib as M,ja as Rt,jb as te,k as Je,kb as ae,la as h,m as ve,mb as $t,n as At,na as T,nb as Ut,oa as Q,ob as Zt,pa as Pt,q as It,qa as Lt,qb as qt,r as Ot,rb as nt,sa as Nt,sb as me,t as xt,ta as u,tb as rt,u as et,ua as Bt,ub as Gt,v as se,wa as k,xa as z,y as Ee,ya as ue,yb as st,z as L,za as Pe}from"./chunk-PYDYA4YI.js";var Ci=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=k({type:s,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(e,t){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return s})();var yi=new Set,ge,en=(()=>{class s{_platform=C(ie);_nonce=C(Rt,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nn}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&tn(r,this._nonce),this._matchMedia(r)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function tn(s,n){if(!yi.has(s))try{ge||(ge=document.createElement("style"),n&&ge.setAttribute("nonce",n),ge.setAttribute("type","text/css"),document.head.appendChild(ge)),ge.sheet&&(ge.sheet.insertRule(`@media ${s} {body{ }}`,0),yi.add(s))}catch(r){console.error(r)}}function nn(s){return{matches:s==="all"||s==="",media:s,addListener:()=>{},removeListener:()=>{}}}var Di=(()=>{class s{_mediaMatcher=C(en);_zone=C(Q);_queries=new Map;_destroySubject=new v;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return Mi(ne(r)).some(t=>this._registerQuery(t).mql.matches)}observe(r){let t=Mi(ne(r)).map(a=>this._registerQuery(a).observable),i=At(t);return i=It(i.pipe(L(1)),i.pipe(Et(1),Ee(0))),i.pipe(ve(a=>{let o={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:_})=>{o.matches=o.matches||d,o.breakpoints[_]=d}),o}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let e=this._mediaMatcher.matchMedia(r),i={observable:new St(a=>{let o=d=>this._zone.run(()=>a.next(d));return e.addListener(o),()=>{e.removeListener(o)}}).pipe(Ve(e),ve(({matches:a})=>({query:r,matches:a})),Vt(this._destroySubject)),mql:e};return this._queries.set(r,i),i}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Mi(s){return s.map(n=>n.split(",")).reduce((n,r)=>n.concat(r)).map(n=>n.trim())}var rn=(()=>{class s{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var vi=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=z({type:s});static \u0275inj=j({providers:[rn]})}return s})();var sn=(()=>{class s{_platform=C(ie);constructor(){}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return on(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let e=an(fn(r));if(e&&(ki(e)===-1||!this.isVisible(e)))return!1;let t=r.nodeName.toLowerCase(),i=ki(r);return r.hasAttribute("contenteditable")?i!==-1:t==="iframe"||t==="object"||this._platform.WEBKIT&&this._platform.IOS&&!mn(r)?!1:t==="audio"?r.hasAttribute("controls")?i!==-1:!1:t==="video"?i===-1?!1:i!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,e){return pn(r)&&!this.isDisabled(r)&&(e?.ignoreVisibility||this.isVisible(r))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function an(s){try{return s.frameElement}catch{return null}}function on(s){return!!(s.offsetWidth||s.offsetHeight||typeof s.getClientRects=="function"&&s.getClientRects().length)}function ln(s){let n=s.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function dn(s){return hn(s)&&s.type=="hidden"}function cn(s){return un(s)&&s.hasAttribute("href")}function hn(s){return s.nodeName.toLowerCase()=="input"}function un(s){return s.nodeName.toLowerCase()=="a"}function Ii(s){if(!s.hasAttribute("tabindex")||s.tabIndex===void 0)return!1;let n=s.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function ki(s){if(!Ii(s))return null;let n=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function mn(s){let n=s.nodeName.toLowerCase(),r=n==="input"&&s.type;return r==="text"||r==="password"||n==="select"||n==="textarea"}function pn(s){return dn(s)?!1:ln(s)||cn(s)||s.hasAttribute("contenteditable")||Ii(s)}function fn(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}var ft=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,r,e,t,i=!1,a){this._element=n,this._checker=r,this._ngZone=e,this._document=t,this._injector=a,i||this.attachAnchors()}destroy(){let n=this._startAnchor,r=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let r=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let e=this._getFirstTabbableElement(r);return e?.focus(n),!!e}return r.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let r=this._getRegionBoundary("start");return r&&r.focus(n),!!r}focusLastTabbableElement(n){let r=this._getRegionBoundary("end");return r&&r.focus(n),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let r=n.children;for(let e=0;e<r.length;e++){let t=r[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[e]):null;if(t)return t}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let r=n.children;for(let e=r.length-1;e>=0;e--){let t=r[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[e]):null;if(t)return t}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,r){n?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?Pt(n,{injector:this._injector}):setTimeout(n)}},We=(()=>{class s{_checker=C(sn);_ngZone=C(Q);_document=C(be);_injector=C(G);constructor(){C(ai).load(Ci)}create(r,e=!1){return new ft(r,this._checker,this._ngZone,this._document,e,this._injector)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),gt=(()=>{class s{_elementRef=C(K);_focusTrapFactory=C(We);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}autoCapture;constructor(){C(ie).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let e=r.autoCapture;e&&!e.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=si(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(e){return new(e||s)};static \u0275dir=ue({type:s,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",at],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",at]},exportAs:["cdkTrapFocus"],features:[Re]})}return s})();var de=(function(s){return s[s.NONE=0]="NONE",s[s.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",s[s.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",s})(de||{}),Si="cdk-high-contrast-black-on-white",Ai="cdk-high-contrast-white-on-black",pt="cdk-high-contrast-active",Oi=(()=>{class s{_platform=C(ie);_hasCheckedHighContrastMode;_document=C(be);_breakpointSubscription;constructor(){this._breakpointSubscription=C(Di).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return de.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let e=this._document.defaultView||window,t=e&&e.getComputedStyle?e.getComputedStyle(r):null,i=(t&&t.backgroundColor||"").replace(/ /g,"");switch(r.remove(),i){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return de.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return de.BLACK_ON_WHITE}return de.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(pt,Si,Ai),this._hasCheckedHighContrastMode=!0;let e=this.getHighContrastMode();e===de.BLACK_ON_WHITE?r.add(pt,Si):e===de.WHITE_ON_BLACK&&r.add(pt,Ai)}}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),je=(()=>{class s{constructor(){C(Oi)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(e){return new(e||s)};static \u0275mod=z({type:s});static \u0275inj=j({imports:[vi]})}return s})();function _e(s){return s!=null&&`${s}`!="false"}var xi=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=z({type:s});static \u0275inj=j({})}return s})();var wn=["owl-date-time-calendar-body",""],Cn=(s,n,r)=>({"owl-dt-calendar-cell-out":s,"owl-dt-calendar-cell-today":n,"owl-dt-calendar-cell-selected":r});function yn(s,n){if(s&1){let r=S();l(0,"td",2),w("click",function(){let t=f(r).$implicit,i=m(2);return g(i.selectCell(t))}),l(1,"span",3),M(2),c()()}if(s&2){let r=n.$implicit,e=n.$index,t=m().$index,i=m();zt(qt("owl-dt-calendar-cell ",r.cellClass)),Z("width",100/i.numCols,"%")("padding-top",50*i.cellRatio/i.numCols,"%")("padding-bottom",50*i.cellRatio/i.numCols,"%"),N("owl-dt-calendar-cell-active",i.isActiveCell(t,e))("owl-dt-calendar-cell-disabled",!r.enabled)("owl-dt-calendar-cell-in-range",i.isInRange(r.value))("owl-dt-calendar-cell-range-from",i.isRangeFrom(r.value))("owl-dt-calendar-cell-range-to",i.isRangeTo(r.value)),p("tabindex",i.isActiveCell(t,e)?0:-1),O("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-current",r.value===i.todayValue?"date":null)("aria-selected",i.isSelected(r.value)),h(),p("ngClass",Gt(26,Cn,r.out,r.value===i.todayValue,i.isSelected(r.value))),h(),ae(" ",r.displayValue," ")}}function Mn(s,n){if(s&1&&(l(0,"tr",0),ke(1,yn,3,30,"td",1,tt),c()),s&2){let r=n.$implicit;h(),Se(r)}}var Ei=s=>({"owl-calendar-weeks":s}),Dn=(s,n)=>n.short;function vn(s,n){if(s&1&&(l(0,"li")(1,"span"),M(2),c()()),s&2){let r=n.$implicit;h(2),te(r)}}function kn(s,n){if(s&1&&(l(0,"ul",0),ke(1,vn,3,1,"li",null,Wt),c()),s&2){let r=m();h(),Se(r.weekNumbers)}}function Sn(s,n){if(s&1&&(l(0,"th",4)(1,"span"),M(2),c()()),s&2){let r=n.$implicit;O("aria-label",r.long),h(2),te(r.short)}}function An(s,n){if(s&1){let r=S();l(0,"owl-date-time-month-view",15),w("pickerMomentChange",function(t){f(r);let i=m();return g(i.handlePickerMomentChange(t))})("selectedChange",function(t){f(r);let i=m();return g(i.dateSelected(t))})("userSelection",function(){f(r);let t=m();return g(t.userSelected())}),c()}if(s&2){let r=m();p("pickerMoment",r.pickerMoment)("firstDayOfWeek",r.firstDayOfWeek)("selected",r.selected)("selecteds",r.selecteds)("selectMode",r.selectMode)("minDate",r.minDate)("showCalendarWeeks",r.showCalendarWeeks)("maxDate",r.maxDate)("dateFilter",r.dateFilter)("hideOtherMonths",r.hideOtherMonths)}}function In(s,n){if(s&1){let r=S();l(0,"owl-date-time-year-view",16),w("keyboardEnter",function(){f(r);let t=m();return g(t.focusActiveCell())})("pickerMomentChange",function(t){f(r);let i=m();return g(i.handlePickerMomentChange(t))})("monthSelected",function(t){f(r);let i=m();return g(i.selectMonthInYearView(t))})("change",function(t){f(r);let i=m();return g(i.goToDateInView(t,i.DateView.MONTH))}),c()}if(s&2){let r=m();p("pickerMoment",r.pickerMoment)("selected",r.selected)("selecteds",r.selecteds)("selectMode",r.selectMode)("minDate",r.minDate)("maxDate",r.maxDate)("dateFilter",r.dateFilter)}}function On(s,n){if(s&1){let r=S();l(0,"owl-date-time-multi-year-view",17),w("keyboardEnter",function(){f(r);let t=m();return g(t.focusActiveCell())})("pickerMomentChange",function(t){f(r);let i=m();return g(i.handlePickerMomentChange(t))})("yearSelected",function(t){f(r);let i=m();return g(i.selectYearInMultiYearView(t))})("change",function(t){f(r);let i=m();return g(i.goToDateInView(t,i.DateView.YEAR))}),c()}if(s&2){let r=m();p("pickerMoment",r.pickerMoment)("selected",r.selected)("selecteds",r.selecteds)("selectMode",r.selectMode)("minDate",r.minDate)("maxDate",r.maxDate)("dateFilter",r.dateFilter)}}var xn=["valueInput"];function En(s,n){s&1&&y(0,"div",1)}function Vn(s,n){if(s&1){let r=S();l(0,"owl-date-time-timer-box",1),w("inputChange",function(t){f(r);let i=m();return g(i.setSecondValue(t))})("valueChange",function(t){f(r);let i=m();return g(i.setSecondValue(t))}),c()}if(s&2){let r=m();p("showDivider",!0)("upBtnAriaLabel",r.upSecondButtonLabel)("downBtnAriaLabel",r.downSecondButtonLabel)("upBtnDisabled",!r.upSecondEnabled())("downBtnDisabled",!r.downSecondEnabled())("value",r.secondValue)("min",0)("max",59)("step",r.stepSecond)("inputLabel","Second")}}function Fn(s,n){if(s&1){let r=S();l(0,"div",3)(1,"button",4),w("click",function(t){f(r);let i=m();return g(i.setMeridiem(t))}),l(2,"span",5),M(3),c()()()}if(s&2){let r=m();h(3),ae(" ",r.hour12ButtonLabel," ")}}var Vi=s=>({"owl-dt-container-info-active":s});function Rn(s,n){if(s&1){let r=S();l(0,"owl-date-time-calendar",7),Zt("pickerMomentChange",function(t){f(r);let i=m();return Ut(i.pickerMoment,t)||(i.pickerMoment=t),g(t)}),w("yearSelected",function(t){f(r);let i=m();return g(i.picker.selectYear(t))})("monthSelected",function(t){f(r);let i=m();return g(i.picker.selectMonth(t))})("dateClicked",function(t){f(r);let i=m();return g(i.picker.selectDate(t))})("selectedChange",function(t){f(r);let i=m();return g(i.dateSelected(t))}),c()}if(s&2){let r=m();p("firstDayOfWeek",r.picker.firstDayOfWeek),$t("pickerMoment",r.pickerMoment),p("selected",r.picker.selected)("selecteds",r.picker.selecteds)("selectMode",r.picker.selectMode)("minDate",r.picker.minDateTime)("maxDate",r.picker.maxDateTime)("dateFilter",r.picker.dateTimeFilter)("startView",r.picker.startView)("yearOnly",r.picker.yearOnly)("showCalendarWeeks",r.picker.showCalendarWeeks)("multiyearOnly",r.picker.multiyearOnly)("hideOtherMonths",r.picker.hideOtherMonths)}}function Pn(s,n){if(s&1){let r=S();l(0,"owl-date-time-timer",8),w("selectedChange",function(t){f(r);let i=m();return g(i.timeSelected(t))}),c()}if(s&2){let r=m();p("pickerMoment",r.pickerMoment)("minDateTime",r.picker.minDateTime)("maxDateTime",r.picker.maxDateTime)("showSecondsTimer",r.picker.showSecondsTimer)("hour12Timer",r.picker.hour12Timer)("stepHour",r.picker.stepHour)("stepMinute",r.picker.stepMinute)("stepSecond",r.picker.stepSecond)}}function Ln(s,n){if(s&1){let r=S();l(0,"div",5)(1,"div",9,0),w("click",function(t){f(r);let i=m();return g(i.handleClickOnInfoGroup(t,0))})("keydown",function(t){f(r);let i=W(9),a=m();return g(a.handleKeydownOnInfoGroup(t,i,0))}),l(3,"span",10)(4,"span",11),M(5),c(),l(6,"span",12),M(7),c()()(),l(8,"div",13,1),w("click",function(t){f(r);let i=m();return g(i.handleClickOnInfoGroup(t,1))})("keydown",function(t){f(r);let i=W(2),a=m();return g(a.handleKeydownOnInfoGroup(t,i,1))}),l(10,"span",10)(11,"span",11),M(12),c(),l(13,"span",12),M(14),c()()()()}if(s&2){let r=m();h(),p("tabindex",r.activeSelectedIndex===0?0:-1)("ngClass",me(10,Vi,r.activeSelectedIndex===0)),O("aria-checked",r.activeSelectedIndex===0),h(4),ae("",r.fromLabel,":"),h(2),te(r.fromFormattedValue),h(),p("tabindex",r.activeSelectedIndex===1?0:-1)("ngClass",me(12,Vi,r.activeSelectedIndex===1)),O("aria-checked",r.activeSelectedIndex===1),h(4),ae("",r.toLabel,":"),h(2),te(r.toFormattedValue)}}function Nn(s,n){if(s&1){let r=S();l(0,"div",6)(1,"button",14),w("click",function(t){f(r);let i=m();return g(i.onCancelClicked(t))}),l(2,"span",15),M(3),c()(),l(4,"button",14),w("click",function(t){f(r);let i=m();return g(i.onSetClicked(t))}),l(5,"span",15),M(6),c()()()}if(s&2){let r=m();h(3),ae(" ",r.cancelLabel," "),h(3),ae(" ",r.setLabel," ")}}function Bn(s,n){}var Wi=(()=>{let n=class n{get disabled(){return this._disabled===void 0?this.dtPicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}get owlDTTriggerDisabledClass(){return this.disabled}constructor(e){this.changeDetector=e,this.stateChanges=P.EMPTY}ngOnInit(){}ngOnChanges(e){e.datepicker&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges.unsubscribe()}handleClickOnHost(e){this.dtPicker&&(this.dtPicker.open(),e.stopPropagation())}watchStateChanges(){this.stateChanges.unsubscribe();let e=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:Je(),t=this.dtPicker?this.dtPicker.disabledChange:Je();this.stateChanges=et([t,e]).subscribe(()=>{this.changeDetector.markForCheck()})}};n.\u0275fac=function(t){return new(t||n)(u(q))},n.\u0275dir=ue({type:n,selectors:[["","owlDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&w("click",function(o){return i.handleClickOnHost(o)}),t&2&&N("owl-dt-trigger-disabled",i.owlDTTriggerDisabledClass)},inputs:{dtPicker:[0,"owlDateTimeTrigger","dtPicker"],disabled:"disabled"},standalone:!1,features:[Re]});let s=n;return s})(),ce=new H("OWL_DATE_TIME_FORMATS"),Yn=new H("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:Hn});function Hn(){return C(Kt)}var B=class{constructor(){this._localeChanges=new v,this.firstMonthOfTheYear=0,this.firstDayOfTheWeek=0,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(n,r){if(!this.isValid(n)||!this.isValid(r))throw Error("JSNativeDate: Cannot compare invalid dates.");let e=this.clone(n),t=this.clone(r),i=this.getTime(e)-this.getTime(t);return i<0?-1:i>0?1:i}compareYear(n,r){if(!this.isValid(n)||!this.isValid(r))throw Error("JSNativeDate: Cannot compare invalid dates.");let e=this.getYear(n),t=this.getYear(r),i=e-t;return i<0?-1:i>0?1:0}deserialize(n){return n==null||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next(n)}getLocale(){return this.locale}clampDate(n,r,e){return r&&this.compare(n,r)<0?r:e&&this.compare(n,e)>0?e:n}},Wn=0,D=(function(s){return s.MONTH="month",s.YEAR="year",s.MULTI_YEARS="multi-years",s})(D||{}),ji=(()=>{let n=class n{get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(e){this._showSecondsTimer=_e(e)}get hour12Timer(){return this._hour12Timer}set hour12Timer(e){this._hour12Timer=_e(e)}get stepHour(){return this._stepHour}set stepHour(e){this._stepHour=oe(e,1)}get stepMinute(){return this._stepMinute}set stepMinute(e){this._stepMinute=oe(e,1)}get stepSecond(){return this._stepSecond}set stepSecond(e){this._stepSecond=oe(e,1)}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e=oe(e),e>6||e<0?this._firstDayOfWeek=void 0:this._firstDayOfWeek=e}get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(e){this._hideOtherMonths=_e(e)}get id(){return this._id}get formatString(){return this.pickerType==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(e,t){if(this.dateTimeAdapter=e,this.dateTimeFormats=t,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView=D.MONTH,this.showCalendarWeeks=!1,this.yearOnly=!1,this.multiyearOnly=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._hideOtherMonths=!1,this.dateTimeChecker=i=>!!i&&(!this.dateTimeFilter||this.dateTimeFilter(i))&&(!this.minDateTime||this.dateTimeAdapter.compare(i,this.minDateTime)>=0)&&(!this.maxDateTime||this.dateTimeAdapter.compare(i,this.maxDateTime)<=0),!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id=`owl-dt-picker-${Wn++}`}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(u(B,8),u(ce,8))},n.\u0275dir=ue({type:n,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",showCalendarWeeks:"showCalendarWeeks",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"}});let s=n;return s})(),Oe=(()=>{let n=class n{constructor(){this.changes=new v,this.upSecondLabel="Add a second",this.downSecondLabel="Minus a second",this.upMinuteLabel="Add a minute",this.downMinuteLabel="Minus a minute",this.upHourLabel="Add a hour",this.downHourLabel="Minus a hour",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 21 years",this.nextMultiYearLabel="Next 21 years",this.switchToMonthViewLabel="Change to month view",this.switchToMultiYearViewLabel="Choose month and year",this.cancelBtnLabel="Cancel",this.setBtnLabel="Set",this.rangeFromLabel="From",this.rangeToLabel="To",this.hour12AMLabel="AM",this.hour12PMLabel="PM"}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"});let s=n;return s})(),Ie=class{constructor(n,r,e,t,i=!1,a=""){this.value=n,this.displayValue=r,this.ariaLabel=e,this.enabled=t,this.out=i,this.cellClass=a}},ye=(()=>{let n=class n{get owlDTCalendarBodyClass(){return!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new T}ngOnInit(){}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols+t===this.activeCell}isSelected(e){if(!this.selectedValues||this.selectedValues.length===0)return!1;if(this.isInSingleMode)return e===this.selectedValues[0];if(this.isInRangeMode){let t=this.selectedValues[0],i=this.selectedValues[1];return e===t||e===i}}isInRange(e){if(this.isInRangeMode){let t=this.selectedValues[0],i=this.selectedValues[1];return t!==null&&i!==null?e>=t&&e<=i:e===t||e===i}}isRangeFrom(e){if(this.isInRangeMode){let t=this.selectedValues[0];return t!==null&&e===t}}isRangeTo(e){if(this.isInRangeMode){let t=this.selectedValues[1];return t!==null&&e===t}}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}};n.\u0275fac=function(t){return new(t||n)(u(K),u(Q))},n.\u0275cmp=k({type:n,selectors:[["","owl-date-time-calendar-body",""]],hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-calendar-body",i.owlDTCalendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["owlDateTimeCalendarBody"],standalone:!1,attrs:wn,decls:2,vars:0,consts:[["role","row"],[3,"class","tabindex","owl-dt-calendar-cell-active","owl-dt-calendar-cell-disabled","owl-dt-calendar-cell-in-range","owl-dt-calendar-cell-range-from","owl-dt-calendar-cell-range-to","width","paddingTop","paddingBottom"],[3,"click","tabindex"],[1,"owl-dt-calendar-cell-content",3,"ngClass"]],template:function(t,i){t&1&&ke(0,Mn,3,0,"tr",0,tt),t&2&&Se(i.rows)},dependencies:[Ne],encapsulation:2,changeDetection:0});let s=n;return s})();function jn(){return bt.create()}function zn(s){return s.multiYear}var bt=class{static create(){return{multiYear:{yearRows:7,yearsPerRow:3}}}},Ze=class Ze{};Ze.all=new H("All options token"),Ze.multiYear=new H("Grid view options token");var Ce=Ze,$n=[{provide:Ce.all,useFactory:jn},{provide:Ce.multiYear,useFactory:zn,deps:[Ce.all]}],Un=(()=>{let n=class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateYearList()}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} - ${this._years[this.options.yearRows-1][this.options.yearsPerRow-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get owlDTCalendarView(){return!0}get owlDTCalendarMultiYearView(){return!0}constructor(e,t,i,a){this.cdRef=e,this.pickerIntl=t,this.dateTimeAdapter=i,this.options=a,this._selectMode="single",this._selecteds=[],this.initiated=!1,this.change=new T,this.yearSelected=new T,this.pickerMomentChange=new T,this.keyboardEnter=new T}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.firstMonthOfTheYear,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),a=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(a)}prevYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),e.preventDefault()}nextYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),e.preventDefault()}generateYearList(){this._years=[];let e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%(this.options.yearsPerRow*this.options.yearRows);for(let i=0;i<this.options.yearRows;i++){let a=[];for(let o=0;o<this.options.yearsPerRow;o++){let d=e-t+(o+i*this.options.yearsPerRow),_=this.createYearCell(d);a.push(_)}this._years.push(a)}}previousEnabled(){return this.minDate?!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate):!0}nextEnabled(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*this.options.yearsPerRow),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow*this.options.yearRows-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)-1),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10*(this.options.yearsPerRow*this.options.yearRows):-1*(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10*(this.options.yearsPerRow*this.options.yearRows):this.options.yearsPerRow*this.options.yearRows),this.pickerMomentChange.emit(t);break;case 13:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.firstMonthOfTheYear,1),i=this.dateTimeAdapter.getYearName(t),a="owl-dt-year-"+e;return new Ie(e,e.toString(),i,this.isYearEnabled(e),!1,a)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(e=>this.dateTimeAdapter.isValid(e)?this.dateTimeAdapter.getYear(e):null))}isYearEnabled(e){if(e==null||this.maxDate&&e>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&e<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.firstMonthOfTheYear,1);for(let i=t;this.dateTimeAdapter.getYear(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(this.options.yearsPerRow*this.options.yearRows))===Math.floor(this.dateTimeAdapter.getYear(t)/(this.options.yearsPerRow*this.options.yearRows))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(u(q),u(Oe),u(B,8),u(Ce.multiYear))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-multi-year-view"]],viewQuery:function(t,i){if(t&1&&X(ye,7),t&2){let a;J(a=ee())&&(i.calendarBodyElm=a.first)}},hostVars:4,hostBindings:function(t,i){t&2&&N("owl-dt-calendar-view",i.owlDTCalendarView)("owl-dt-calendar-multi-year-view",i.owlDTCalendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},standalone:!1,decls:14,vars:12,consts:[["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-table","owl-dt-calendar-multi-year-table"],[1,"owl-dt-calendar-header"],["colspan","3"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(l(0,"button",0),w("click",function(o){return i.prevYearList(o)}),l(1,"span",1),R(),l(2,"svg",2),y(3,"path",3),c()()(),Te(),l(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),M(8),c()()(),l(9,"tbody",7),w("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),c()(),l(10,"button",0),w("click",function(o){return i.nextYearList(o)}),l(11,"span",1),R(),l(12,"svg",8),y(13,"path",9),c()()()),t&2&&(p("disabled",!i.previousEnabled()),O("aria-label",i.prevButtonLabel),h(8),te(i.tableHeader),h(),p("rows",i.years)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell)("todayValue",i.todayYear)("selectedValues",i.selectedYears)("selectMode",i.selectMode),h(),p("disabled",!i.nextEnabled()),O("aria-label",i.nextButtonLabel))},dependencies:[ye],encapsulation:2,changeDetection:0});let s=n;return s})(),Zn=12,_t=3,qn=(()=>{let n=class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=[];for(let t=0;t<e.length;t++){let i=this.dateTimeAdapter.deserialize(e[t]);this._selecteds.push(this.getValidDate(i))}this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateMonthList()}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get owlDTCalendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._selectMode="single",this._selecteds=[],this.localeSub=P.EMPTY,this.initiated=!1,this.selectedMonths=[],this.change=new T,this.monthSelected=new T,this.pickerMomentChange=new T,this.keyboardEnter=new T,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),a=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(a)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case 13:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let e=0;e<Zn/_t;e++){let t=[];for(let i=0;i<_t;i++){let a=i+e*_t+this.dateTimeAdapter.firstMonthOfTheYear,o=this.createMonthCell(a);t.push(o)}this._months.push(t)}}}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),a="owl-dt-month-"+e;return new Ie(e,this.monthNames[e-this.dateTimeAdapter.firstMonthOfTheYear],i,this.isMonthEnabled(e),!1,a)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateFilter||this.dateFilter(i))&&(!this.minDate||this.dateTimeAdapter.compare(i,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(i,this.maxDate)<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){let t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}else return null}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(u(q),u(B,8),u(ce,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-year-view"]],viewQuery:function(t,i){if(t&1&&X(ye,7),t&2){let a;J(a=ee())&&(i.calendarBodyElm=a.first)}},hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-calendar-view",i.owlDTCalendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},exportAs:["owlMonthView"],standalone:!1,decls:5,vars:7,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-year-table"],[1,"owl-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),c()(),l(4,"tbody",3),w("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),c()()),t&2&&(h(4),p("rows",i.months)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell)("todayValue",i.todayMonth)("selectedValues",i.selectedMonths)("selectMode",i.selectMode))},dependencies:[ye],encapsulation:2,changeDetection:0});let s=n;return s})(),Tt=7,Gn=6,Kn=(()=>{let n=class n{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.isDefaultFirstDayOfWeek=!1,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get owlDTCalendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this.hideOtherMonths=!1,this.showCalendarWeeks=!1,this.isDefaultFirstDayOfWeek=!0,this._selectMode="single",this._selecteds=[],this.localeSub=P.EMPTY,this.initiated=!1,this.selectedDates=[],this.selectedChange=new T,this.userSelection=new T,this.pickerMomentChange=new T}ngOnInit(){this.updateFirstDayOfWeek(this.dateTimeAdapter.getLocale()),this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(e=>{this.updateFirstDayOfWeek(e),this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(e){!e.enabled||this.hideOtherMonths&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t);this.selectedChange.emit(i),this.userSelection.emit()}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 34:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 13:(!this.dateFilter||this.dateFilter(this.pickerMoment))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()}generateWeekDays(){let e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),i=this.dateTimeAdapter.getDayOfWeekNames("narrow"),a=this.firstDayOfWeek,o=e.map((d,_)=>({long:d,short:t[_],narrow:i[_]}));this._weekdays=o.slice(a-this.dateTimeAdapter.firstDayOfTheWeek).concat(o.slice(0,a-this.dateTimeAdapter.firstDayOfTheWeek)),this.dateNames=this.dateTimeAdapter.getDateNames()}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=null,this.weekNumbers=[];let e=this.dateTimeAdapter.getDay(this.firstDateOfMonth),t=this.firstDayOfWeek,i=0-(e+(Tt-t))%Tt;this.firstRowOffset=Math.abs(i),this._days=[];for(let a=0;a<Gn;a++){let o=[];for(let d=0;d<Tt;d++){let _=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,i),$=this.createDateCell(_,i);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),_)&&(this.todayDate=i+1),o.push($),i+=1}if(this._days.push(o),this.showCalendarWeeks){let d=this.getISOWeek(new Date(o[0].ariaLabel));this.weekNumbers.push(d)}}this.setSelectedDates()}getISOWeek(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));let i=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((+t-+i)/864e5+1)/7)}updateFirstDayOfWeek(e){if(this.isDefaultFirstDayOfWeek)try{this._firstDayOfWeek=ti(e)}catch{this._firstDayOfWeek=0}}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(e).toString(),d=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),_=this.isDateEnabled(e),$=t+1,De=$<1||$>i,Ji="owl-dt-day-"+this.dateTimeAdapter.getDay(e);return new Ie($,o,d,_,De,Ji)}isDateEnabled(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this.dateTimeAdapter.compare(e,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(e,this.maxDate)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}setSelectedDates(){if(this.selectedDates=[],!!this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){let e=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);this.selectedDates[0]=e+1;return}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(e=>this.dateTimeAdapter.isValid(e)?this.dateTimeAdapter.differenceInCalendarDays(e,this.firstDateOfMonth)+1:null))}}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(u(q),u(B,8),u(ce,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-month-view"]],viewQuery:function(t,i){if(t&1&&X(ye,7),t&2){let a;J(a=ee())&&(i.calendarBodyElm=a.first)}},hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-calendar-view",i.owlDTCalendarView)},inputs:{hideOtherMonths:"hideOtherMonths",showCalendarWeeks:"showCalendarWeeks",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},exportAs:["owlYearView"],standalone:!1,decls:9,vars:14,consts:[[1,"week-number"],[1,"owl-dt-calendar-table","owl-dt-calendar-month-table",3,"ngClass"],[1,"owl-dt-calendar-header"],[1,"owl-dt-weekdays"],["scope","col",1,"owl-dt-weekday"],["aria-hidden","true","colspan","7",1,"owl-dt-calendar-table-divider",3,"ngClass"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"]],template:function(t,i){t&1&&(x(0,kn,3,0,"ul",0),l(1,"table",1)(2,"thead",2)(3,"tr",3),ke(4,Sn,3,2,"th",4,Dn),c(),l(6,"tr"),y(7,"th",5),c()(),l(8,"tbody",6),w("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),c()()),t&2&&(E(i.showCalendarWeeks?0:-1),h(),N("owl-dt-calendar-only-current-month",i.hideOtherMonths),p("ngClass",me(10,Ei,i.showCalendarWeeks)),h(3),Se(i.weekdays),h(3),p("ngClass",me(12,Ei,i.showCalendarWeeks)),h(),p("rows",i.days)("todayValue",i.todayDate)("selectedValues",i.selectedDates)("selectMode",i.selectMode)("activeCell",i.activeCell))},dependencies:[Ne,ye],styles:[".week-number[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:46px 0 14px;padding:0;list-style:none;border-right:1px solid rgba(0,0,0,.12);width:8%;font-weight:700}.week-number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em}"],changeDetection:0});let s=n;return s})(),Fi=(()=>{let n=class n{get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return this._currentView===D.MONTH?this.pickerIntl.prevMonthLabel:this._currentView===D.YEAR?this.pickerIntl.prevYearLabel:null}get nextButtonLabel(){return this._currentView===D.MONTH?this.pickerIntl.nextMonthLabel:this._currentView===D.YEAR?this.pickerIntl.nextYearLabel:null}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this.moveFocusOnNextTick=!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get showControlArrows(){return this._currentView!==D.MULTI_YEARS}get isMonthView(){return this._currentView===D.MONTH}get owlDTCalendarClass(){return!0}constructor(e,t,i,a,o,d){this.elmRef=e,this.pickerIntl=t,this.ngZone=i,this.cdRef=a,this.dateTimeAdapter=o,this.dateTimeFormats=d,this.DateView=D,this._selecteds=[],this.startView=D.MONTH,this.yearOnly=!1,this.showCalendarWeeks=!1,this.multiyearOnly=!1,this.pickerMomentChange=new T,this.dateClicked=new T,this.selectedChange=new T,this.userSelection=new T,this.yearSelected=new T,this.monthSelected=new T,this.intlChangesSub=P.EMPTY,this.moveFocusOnNextTick=!1,this.dateFilterForViews=_=>!!_&&(!this.dateFilter||this.dateFilter(_))&&(!this.minDate||this.dateTimeAdapter.compare(_,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(_,this.maxDate)<=0),this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub.unsubscribe()}toggleViews(){let e=null;this._currentView===D.MONTH||this.multiyearOnly?e=D.MULTI_YEARS:this.yearOnly?e=this._currentView===D.YEAR?D.MULTI_YEARS:D.YEAR:e=D.MONTH,this.currentView=e}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(e){this.dateFilterForViews(e)&&(this.dateClicked.emit(e),this.selectedChange.emit(e))}goToDateInView(e,t){this.handlePickerMomentChange(e),!this.yearOnly&&!this.multiyearOnly||this.multiyearOnly&&t!==D.MONTH&&t!==D.YEAR||this.yearOnly&&t!==D.MONTH?this.currentView=t:this.dateSelected(e)}handlePickerMomentChange(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)}nextButtonEnabled(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this._currentView===D.MONTH?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this._currentView===D.YEAR?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(u(K),u(Oe),u(Q),u(q),u(B,8),u(ce,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-calendar",i.owlDTCalendarClass)},inputs:{minDate:"minDate",maxDate:"maxDate",pickerMoment:"pickerMoment",selected:"selected",selecteds:"selecteds",dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",startView:"startView",yearOnly:"yearOnly",showCalendarWeeks:"showCalendarWeeks",multiyearOnly:"multiyearOnly",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",dateClicked:"dateClicked",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},exportAs:["owlDateTimeCalendar"],standalone:!1,decls:21,vars:13,consts:[[1,"owl-dt-calendar-control"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-control-content"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-period-button",3,"click"],[1,"owl-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"owl-dt-calendar-main"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"button",1),w("click",function(){return i.previousClicked()}),l(2,"span",2),R(),l(3,"svg",3),y(4,"path",4),c()()(),Te(),l(5,"div",5)(6,"button",6),w("click",function(){return i.toggleViews()}),l(7,"span",2),M(8),l(9,"span",7),R(),l(10,"svg",8)(11,"g"),y(12,"path",9),c()()()()()(),Te(),l(13,"button",1),w("click",function(){return i.nextClicked()}),l(14,"span",2),R(),l(15,"svg",10),y(16,"path",11),c()()()(),Te(),l(17,"div",12),x(18,An,1,10,"owl-date-time-month-view",13)(19,In,1,7,"owl-date-time-year-view",14)(20,On,1,7,"owl-date-time-multi-year-view",14),c()),t&2){let a;h(),Z("visibility",i.showControlArrows?"visible":"hidden"),p("disabled",!i.prevButtonEnabled()),O("aria-label",i.prevButtonLabel),h(5),O("aria-label",i.periodButtonLabel),h(2),ae(" ",i.periodButtonText," "),h(),Z("transform","rotate("+(i.isMonthView?0:180)+"deg)"),h(4),Z("visibility",i.showControlArrows?"visible":"hidden"),p("disabled",!i.nextButtonEnabled()),O("aria-label",i.nextButtonLabel),h(5),E((a=i.currentView)===i.DateView.MONTH?18:a===i.DateView.YEAR?19:a===i.DateView.MULTI_YEARS?20:-1)}},dependencies:[ct,Un,qn,Kn],encapsulation:2,changeDetection:0});let s=n;return s})(),Qn=(()=>{let n=class n{get displayValue(){if(this.hasFocus)return this.valueInput.nativeElement.value;let e=this.boxValue||this.value;return e===null||isNaN(e)?"":e<10?"0"+e.toString():e.toString()}get owlDTTimerBoxClass(){return!0}constructor(){this.showDivider=!1,this.step=1,this.valueChange=new T,this.inputChange=new T,this.inputStream=new v,this.inputStreamSub=P.EMPTY,this.hasFocus=!1,this.onValueInputMouseWheelBind=this.onValueInputMouseWheel.bind(this)}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(Ee(750)).subscribe(e=>{if(e){let t=oe(e,0);this.updateValueViaInput(t)}}),this.bindValueInputMouseWheel()}ngOnDestroy(){this.unbindValueInputMouseWheel(),this.inputStreamSub.unsubscribe()}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(e){this.inputStream.next(e)}focusIn(){this.hasFocus=!0}focusOut(e){if(this.hasFocus=!1,e){let t=oe(e,0);this.updateValueViaInput(t)}}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max||e<this.min||this.inputChange.emit(e)}onValueInputMouseWheel(e){e=e||window.event;let t=e.wheelDelta||-e.deltaY||-e.detail;t>0?this.upBtnDisabled||this.upBtnClicked():t<0&&(this.downBtnDisabled||this.downBtnClicked()),e.preventDefault?e.preventDefault():e.returnValue=!1}bindValueInputMouseWheel(){this.valueInput.nativeElement.addEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}unbindValueInputMouseWheel(){this.valueInput.nativeElement.removeEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-timer-box"]],viewQuery:function(t,i){if(t&1&&X(xn,7),t&2){let a;J(a=ee())&&(i.valueInput=a.first)}},hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-timer-box",i.owlDTTimerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},exportAs:["owlDateTimeTimerBox"],standalone:!1,decls:14,vars:7,consts:[["valueInput",""],["aria-hidden","true",1,"owl-dt-timer-divider"],["type","button","tabindex","-1",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"owl-dt-timer-content"],["maxlength","2",1,"owl-dt-timer-input",3,"keydown.arrowup","keydown.arrowdown","input","focusin","focusout","value"],[1,"owl-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`]],template:function(t,i){if(t&1){let a=S();x(0,En,1,0,"div",1),l(1,"button",2),w("click",function(){return f(a),g(i.upBtnClicked())}),l(2,"span",3),R(),l(3,"svg",4),y(4,"path",5),c()()(),Te(),l(5,"label",6)(6,"input",7,0),w("keydown.arrowup",function(){return f(a),g(!i.upBtnDisabled&&i.upBtnClicked())})("keydown.arrowdown",function(){return f(a),g(!i.downBtnDisabled&&i.downBtnClicked())})("input",function(){f(a);let d=W(7);return g(i.handleInputChange(d.value))})("focusin",function(){return f(a),g(i.focusIn())})("focusout",function(){f(a);let d=W(7);return g(i.focusOut(d.value))}),c(),l(8,"span",8),M(9),c()(),l(10,"button",2),w("click",function(){return f(a),g(i.downBtnClicked())}),l(11,"span",3),R(),l(12,"svg",4),y(13,"path",9),c()()()}t&2&&(E(i.showDivider?0:-1),h(),p("disabled",i.upBtnDisabled),O("aria-label",i.upBtnAriaLabel),h(5),p("value",i.displayValue),h(3),te(i.inputLabel),h(),p("disabled",i.downBtnDisabled),O("aria-label",i.downBtnAriaLabel))},encapsulation:2,changeDetection:0});let s=n;return s})(),Ri=(()=>{let n=class n{get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get minDateTime(){return this._minDateTime}set minDateTime(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)}get maxDateTime(){return this._maxDateTime}set maxDateTime(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let e=this.hourValue;return this.hour12Timer&&(e===0?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:e===12?this.isPM=!0:e>12&&e<24&&(e=e-12,this.isPM=!0)),e}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get owlDTTimerClass(){return!0}get owlDTTimeTabIndex(){return-1}constructor(e,t,i,a,o){this.ngZone=e,this.elmRef=t,this.pickerIntl=i,this.cdRef=a,this.dateTimeAdapter=o,this.isPM=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new T}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){this.hour12Timer&&this.isPM&&e>=1&&e<=11?e=e+12:this.hour12Timer&&!this.isPM&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMeridiem(e){this.isPM=!this.isPM;let t=this.hourValue;this.isPM?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()}upHourEnabled(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1}downHourEnabled(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1}upMinuteEnabled(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1}downMinuteEnabled(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1}upSecondEnabled(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1}downSecondEnabled(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment)+e,a=this.dateTimeAdapter.setHours(this.pickerMoment,i);return this.dateTimeAdapter.compare(a,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,a=this.dateTimeAdapter.setMinutes(this.pickerMoment,i);return this.dateTimeAdapter.compare(a,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,a=this.dateTimeAdapter.setSeconds(this.pickerMoment,i);return this.dateTimeAdapter.compare(a,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(u(Q),u(K),u(Oe),u(q),u(B,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(O("tabindex",i.owlDTTimeTabIndex),N("owl-dt-timer",i.owlDTTimerClass))},inputs:{pickerMoment:"pickerMoment",minDateTime:"minDateTime",maxDateTime:"maxDateTime",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},exportAs:["owlDateTimeTimer"],standalone:!1,decls:4,vars:22,consts:[[3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputLabel"],[3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[1,"owl-dt-timer-hour12"],["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"owl-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"owl-date-time-timer-box",0),w("inputChange",function(o){return i.setHourValueViaInput(o)})("valueChange",function(o){return i.setHourValue(o)}),c(),l(1,"owl-date-time-timer-box",1),w("inputChange",function(o){return i.setMinuteValue(o)})("valueChange",function(o){return i.setMinuteValue(o)}),c(),x(2,Vn,1,10,"owl-date-time-timer-box",2),x(3,Fn,4,1,"div",3)),t&2&&(p("upBtnAriaLabel",i.upHourButtonLabel)("downBtnAriaLabel",i.downHourButtonLabel)("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue)("value",i.hourValue)("min",0)("max",23)("step",i.stepHour)("inputLabel","Hour"),h(),p("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel)("downBtnAriaLabel",i.downMinuteButtonLabel)("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue)("min",0)("max",59)("step",i.stepMinute)("inputLabel","Minute"),h(),E(i.showSecondsTimer?2:-1),h(),E(i.hour12Timer?3:-1))},dependencies:[Qn],encapsulation:2,changeDetection:0});let s=n;return s})(),$e=(()=>{let n=class n{get hidePickerStream(){return this.hidePicker$.asObservable()}get confirmSelectedStream(){return this.confirmSelected$.asObservable()}get beforePickerOpenedStream(){return this.beforePickerOpened$.asObservable()}get pickerOpenedStream(){return this.pickerOpened$.asObservable()}get pickerMoment(){return this._clamPickerMoment}set pickerMoment(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()}get pickerType(){return this.picker.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){let e=this.picker.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""}get toFormattedValue(){let e=this.picker.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""}get showControlButtons(){return this.picker.pickerMode==="dialog"||this.picker.pickerType!=="calendar"&&this.picker.pickerMode!=="inline"}get containerElm(){return this.elmRef.nativeElement}get owlDTContainerClass(){return!0}get owlDTPopupContainerClass(){return this.picker.pickerMode==="popup"}get owlDTDialogContainerClass(){return this.picker.pickerMode==="dialog"}get owlDTInlineContainerClass(){return this.picker.pickerMode==="inline"}get owlDTContainerDisabledClass(){return this.picker.disabled}get owlDTContainerId(){return this.picker.id}get owlDTContainerAnimation(){return this.picker.pickerMode==="inline"?"":"enter"}constructor(e,t,i,a){this.cdRef=e,this.elmRef=t,this.pickerIntl=i,this.dateTimeAdapter=a,this.activeSelectedIndex=0,this.animationStateChanged=new T,this.hidePicker$=new v,this.confirmSelected$=new v,this.beforePickerOpened$=new v,this.pickerOpened$=new v}ngOnInit(){this.picker.selectMode==="range"&&(this.picker.selecteds[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(this.picker.selecteds[0])),this.picker.selecteds[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(this.picker.selecteds[1])))}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationStart(e){e==="enter"&&this.beforePickerOpened$.next(null),this.animationStateChanged.emit({phaseName:"start",toState:e})}handleContainerAnimationDone(e){e==="enter"&&this.pickerOpened$.next(null),this.animationStateChanged.emit({phaseName:"done",toState:e})}dateSelected(e){let t;if(this.picker.isInSingleMode){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,this.picker.select(t)):this.pickerType==="calendar"&&this.hidePicker$.next(null);return}this.picker.isInRangeMode&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t)))}timeSelected(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),!!this.picker.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode){this.picker.select(this.pickerMoment);return}if(this.picker.isInRangeMode){let t=[...this.picker.selecteds];this.activeSelectedIndex===0&&t[1]&&this.dateTimeAdapter.compare(this.pickerMoment,t[1])===1||this.activeSelectedIndex===1&&t[0]&&this.dateTimeAdapter.compare(this.pickerMoment,t[0])===-1?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,t[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(t[0])),t[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(t[1])),this.picker.select(t)}}}onCancelClicked(e){this.hidePicker$.next(null),e.preventDefault()}onSetClicked(e){if(!this.picker.dateTimeChecker(this.pickerMoment)){this.hidePicker$.next(null),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case 40:case 39:case 38:case 37:t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case 32:this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}onAnimateEnter(e){this.handleContainerAnimationStart("enter");let t=this.parseCssVariableDuration(e.target,"--container-enter-animation-duration");t===0?(this.handleContainerAnimationDone("enter"),e.animationComplete()):e.target.animate([{opacity:0,transform:"scaleY(0)"},{opacity:1,transform:"scaleY(1)"}],{duration:t??400,easing:"cubic-bezier(0.25, 0.8, 0.25, 1)",fill:"forwards"}).finished.then(()=>{this.handleContainerAnimationDone("enter"),e.animationComplete()})}onAnimateLeave(e){this.handleContainerAnimationStart("leave");let t=this.parseCssVariableDuration(e.target,"--container-leave-animation-duration");t===0?(this.handleContainerAnimationDone("leave"),e.animationComplete()):e.target.animate([{opacity:1},{opacity:0}],{duration:t??100,easing:"linear",fill:"forwards"}).finished.then(()=>{this.handleContainerAnimationDone("leave"),e.animationComplete()})}setActiveSelectedIndex(e){if(this.picker.selectMode==="range"&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;let t=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex=this.picker.selectMode==="rangeTo"?1:0}dateSelectedInSingleMode(e){return this.dateTimeAdapter.isSameDay(e,this.picker.selected)?null:this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.picker.selecteds[0],i=this.picker.selecteds[1],a=this.updateAndCheckCalendarDate(e);return a?(this.picker.selectMode==="range"?this.picker.selecteds&&this.picker.selecteds.length&&!i&&t&&this.dateTimeAdapter.differenceInCalendarDays(a,t)>=0?(this.picker.endAt&&!this.retainEndTime?i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(a),this.dateTimeAdapter.getMonth(a),this.dateTimeAdapter.getDate(a),this.dateTimeAdapter.getHours(this.picker.endAt),this.dateTimeAdapter.getMinutes(this.picker.endAt),this.dateTimeAdapter.getSeconds(this.picker.endAt)):this.retainEndTime?i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(a),this.dateTimeAdapter.getMonth(a),this.dateTimeAdapter.getDate(a),this.dateTimeAdapter.getHours(this.retainEndTime),this.dateTimeAdapter.getMinutes(this.retainEndTime),this.dateTimeAdapter.getSeconds(this.retainEndTime)):i=a,this.activeSelectedIndex=1):(this.picker.startAt&&!this.retainStartTime?t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(a),this.dateTimeAdapter.getMonth(a),this.dateTimeAdapter.getDate(a),this.dateTimeAdapter.getHours(this.picker.startAt),this.dateTimeAdapter.getMinutes(this.picker.startAt),this.dateTimeAdapter.getSeconds(this.picker.startAt)):this.retainStartTime?t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(a),this.dateTimeAdapter.getMonth(a),this.dateTimeAdapter.getDate(a),this.dateTimeAdapter.getHours(this.retainStartTime),this.dateTimeAdapter.getMinutes(this.retainStartTime),this.dateTimeAdapter.getSeconds(this.retainStartTime)):t=a,i=null,this.activeSelectedIndex=0):this.picker.selectMode==="rangeFrom"?(t=a,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=null)):this.picker.selectMode==="rangeTo"&&(i=a,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=null)),[t,i]):null}updateAndCheckCalendarDate(e){let t;return this.picker.pickerType==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)):t=this.dateTimeAdapter.clone(e),this.picker.dateTimeChecker(t)?t:null}focusPicker(){this.picker.pickerMode!=="inline"&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}parseCssVariableDuration(e,t){let i=getComputedStyle(e).getPropertyValue(t).trim(),a;return i.endsWith("ms")?a=parseFloat(i):i.endsWith("s")?a=parseFloat(i)*1e3:i&&(a=parseFloat(i),isNaN(a)&&(a=void 0)),a}};n.\u0275fac=function(t){return new(t||n)(u(q),u(K),u(Oe),u(B,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-container"]],viewQuery:function(t,i){if(t&1&&(X(Fi,5),X(Ri,5)),t&2){let a;J(a=ee())&&(i.calendar=a.first),J(a=ee())&&(i.timer=a.first)}},hostVars:11,hostBindings:function(t,i){t&1&&(Yt(function(o){return i.onAnimateEnter(o)}),Ht(function(o){return i.onAnimateLeave(o)})),t&2&&(O("id",i.owlDTContainerId),N("owl-dt-container",i.owlDTContainerClass)("owl-dt-popup-container",i.owlDTPopupContainerClass)("owl-dt-dialog-container",i.owlDTDialogContainerClass)("owl-dt-inline-container",i.owlDTInlineContainerClass)("owl-dt-container-disabled",i.owlDTContainerDisabledClass))},exportAs:["owlDateTimeContainer"],standalone:!1,decls:5,vars:5,consts:[["from",""],["to",""],[1,"owl-dt-container-inner",3,"cdkTrapFocus"],[1,"owl-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"owl-dt-container-info","owl-dt-container-row"],[1,"owl-dt-container-buttons","owl-dt-container-row"],[1,"owl-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"selectedChange","pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-container-range-content"],[1,"owl-dt-container-info-label"],[1,"owl-dt-container-info-value"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-to",3,"click","keydown","tabindex","ngClass"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-container-control-button",3,"click"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"div",2),x(1,Rn,1,13,"owl-date-time-calendar",3),x(2,Pn,1,8,"owl-date-time-timer",4),x(3,Ln,15,14,"div",5),x(4,Nn,7,2,"div",6),c()),t&2&&(p("cdkTrapFocus",i.picker.pickerMode!=="inline"),h(),E(i.pickerType==="both"||i.pickerType==="calendar"?1:-1),h(),E(i.pickerType==="both"||i.pickerType==="timer"?2:-1),h(),E(i.picker.isInRangeMode?3:-1),h(),E(i.showControlButtons?4:-1))},dependencies:[Ne,gt,Ri,Fi],encapsulation:2,changeDetection:0});let s=n;return s})(),Xn=0,wt=class{constructor(){this.ariaDescribedBy=null,this.autoFocus=!0,this.hasBackdrop=!0,this.data=null,this.disableClose=!1,this.role="dialog",this.paneClass="",this.event=null,this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new ht,this.id=`owl-dialog-${Xn++}`}},Ue=class{constructor(n,r,e,t){this.overlayRef=n,this.container=r,this.id=e,this._beforeClose$=new v,this._beforeOpen$=new v,this._afterOpen$=new v,this._afterClosed$=new v,this.locationChanged=P.EMPTY,this.componentInstance=I(void 0),this.disableClose=!0,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe(se(i=>i.phaseName==="start"&&i.toState==="enter"),L(1)).subscribe(()=>{this._beforeOpen$.next(null),this._beforeOpen$.complete()}),this.container.animationStateChanged.pipe(se(i=>i.phaseName==="done"&&i.toState==="enter"),L(1)).subscribe(()=>{this._afterOpen$.next(null),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe(se(i=>i.phaseName==="done"&&i.toState==="leave"),L(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged.unsubscribe(),this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance.set(void 0)}),this.overlayRef.keydownEvents().pipe(se(i=>i.keyCode===27&&!this.disableClose)).subscribe(()=>this.close()),t&&(this.locationChanged=t.subscribe(()=>{this.container.config.closeOnNavigation&&this.close()}))}close(n){this.result=n,this.container.animationStateChanged.pipe(se(r=>r.phaseName==="start"),L(1)).subscribe(()=>{this._beforeClose$.next(n),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(n){let r=this.getPositionStrategy();return n&&(n.left||n.right)?n.left?r.left(n.left):r.right(n.right):r.centerHorizontally(),n&&(n.top||n.bottom)?n.top?r.top(n.top):r.bottom(n.bottom):r.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(n="auto",r="auto"){return this.getPositionStrategy().width(n).height(r),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}beforeOpen(){return this._beforeOpen$.asObservable()}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}},Pi=(()=>{let n=class n extends oi{get config(){return this._config}get owlDialogContainerClass(){return!0}get owlDialogContainerTabIndex(){return-1}get owlDialogContainerId(){return this._config.id}get owlDialogContainerRole(){return this._config.role||null}get owlDialogContainerAriaLabelledby(){return this.ariaLabelledBy}get owlDialogContainerAriaDescribedby(){return this._config.ariaDescribedBy||null}constructor(e,t,i){super(),this.elementRef=e,this.focusTrapFactory=t,this.document=i,this.portalOutlet=null,this.ariaLabelledBy=null,this.animationStateChanged=new T,this.isAnimating=I(!1),this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0},this.elementFocusedBeforeDialogWasOpened=null}ngOnInit(){}attachComponentPortal(e){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");this.savePreviouslyFocusedElement();let t=this.portalOutlet.attachComponentPortal(e);return t.instance.animationStateChanged.subscribe(a=>this.onAnimationDone(a)),this._component=t,t}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config=e,e.event&&this.calculateZoomOrigin(event)}onAnimationStart(e){this.isAnimating.set(!0),this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="leave"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating.set(!1)}startExitAnimation(){this._component.destroy()}calculateZoomOrigin(e){if(!e)return;let t=e.clientX,i=e.clientY,a=window.innerWidth/2,o=window.innerHeight/2,d=t-a,_=i-o,$=t/window.innerWidth,De=i/window.innerHeight;this.params.x=`${d}px`,this.params.y=`${_}px`,this.params.ox=`${$*100}%`,this.params.oy=`${De*100}%`,this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap&&this.focusTrap.destroy()}};n.\u0275fac=function(t){return new(t||n)(u(K),u(We),u(be,8))},n.\u0275cmp=k({type:n,selectors:[["owl-dialog-container"]],viewQuery:function(t,i){if(t&1&&X(Ye,7),t&2){let a;J(a=ee())&&(i.portalOutlet=a.first)}},hostVars:7,hostBindings:function(t,i){t&2&&(O("tabindex",i.owlDialogContainerTabIndex)("id",i.owlDialogContainerId)("role",i.owlDialogContainerRole)("aria-labelledby",i.owlDialogContainerAriaLabelledby)("aria-describedby",i.owlDialogContainerAriaDescribedby),N("owl-dialog-container",i.owlDialogContainerClass))},standalone:!1,features:[Pe],decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){t&1&&Le(0,Bn,0,0,"ng-template",0)},dependencies:[Ye],encapsulation:2});let s=n;return s})();function Jn(s,...n){if(s==null)throw TypeError("Cannot convert undefined or null to object");for(let r of n)if(r!=null)for(let e in r)r.hasOwnProperty(e)&&(s[e]=r[e]);return s}var er=new H("OwlDialogData"),zi=new H("owl-dialog-scroll-strategy");function tr(s){return()=>s.scrollStrategies.block()}var ir={provide:zi,deps:[re],useFactory:tr},nr=new H("owl-dialog-default-options"),$i=(()=>{let n=class n{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get beforeOpen(){return this.parentDialog?this.parentDialog.beforeOpen:this._beforeOpenAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,i,a,o,d,_){this.overlay=e,this.injector=t,this.location=i,this.defaultOptions=o,this.parentDialog=d,this.overlayContainer=_,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._beforeOpenAtThisLevel=new v,this._afterOpenAtThisLevel=new v,this._afterAllClosedAtThisLevel=new v,this.afterAllClosed=Ot(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:this._afterAllClosed.pipe(Ve(void 0))),this.scrollStrategy=a,!d&&i&&i.subscribe(()=>this.closeAll())}open(e,t){if(t=rr(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),a=this.attachDialogContainer(i,t),o=this.attachDialogContent(e,a,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.beforeOpen.next(o),this.afterOpen.next(o),o}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,a){let o=new Ue(i,t,a.id,this.location);if(a.hasBackdrop&&i.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(e instanceof Lt)){let d=this.createInjector(a,o,t),_=t.attachComponentPortal(new pe(e,void 0,d));o.componentInstance.set(_.instance)}return o.updateSize(a.width,a.height).updatePosition(a.position),o}createInjector(e,t,i){let a=e?.viewContainerRef?.injector,o=[{provide:Ue,useValue:t},{provide:Pi,useValue:i},{provide:er,useValue:e?.data}];return G.create({providers:o,parent:a||this.injector})}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new pe(Pi,t.viewContainerRef),a=e.attach(i);return a.instance.setConfig(t),a.instance}getOverlayConfig(e){let t=new He({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let a=t[i];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}};n.\u0275fac=function(t){return new(t||n)(U(re),U(G),U(ei,8),U(zi),U(nr,8),U(n,12),U(ut))},n.\u0275prov=A({token:n,factory:n.\u0275fac});let s=n;return s})();function rr(s,n){return Jn(new wt,s,n)}var Ui=new H("owl-dtpicker-scroll-strategy");function sr(s){return()=>s.scrollStrategies.block()}var ar={provide:Ui,deps:[re],useFactory:sr},Zi=(()=>{let n=class n extends ji{get startAt(){if(this._startAt)return this._startAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value||null;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[0]||null;if(this._dtInput.selectMode==="rangeTo")return this._dtInput.values[1]||null}else return null}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get endAt(){if(this._endAt)return this._endAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value||null;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[1]||null}else return null}set endAt(e){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(e){e==="popup"?this._pickerMode=e:this._pickerMode="dialog"}get disabled(){return this._disabled===void 0&&this._dtInput?this._dtInput.disabled:!!this._disabled}set disabled(e){e=_e(e),e!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get minDateTime(){return this._dtInput&&this._dtInput.min}get maxDateTime(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput&&this._dtInput.dateTimeFilter}get selectMode(){return this._dtInput.selectMode}get isInSingleMode(){return this._dtInput.isInSingleMode}get isInRangeMode(){return this._dtInput.isInRangeMode}constructor(e,t,i,a,o,d,_,$,De){super(d,$),this.overlay=e,this.viewContainerRef=t,this.dialogService=i,this.ngZone=a,this.changeDetector=o,this.dateTimeAdapter=d,this.dateTimeFormats=$,this.document=De,this.backdropClass=[],this.panelClass=[],this._pickerType="both",this._pickerMode="popup",this._opened=!1,this.afterPickerClosed=new T,this.beforePickerOpen=new T,this.afterPickerOpen=new T,this.yearSelected=new T,this.monthSelected=new T,this.dateSelected=new T,this.confirmSelectedChange=new T,this.disabledChange=new T,this.dtInputSub=P.EMPTY,this.hidePickerStreamSub=P.EMPTY,this.confirmSelectedStreamSub=P.EMPTY,this.pickerOpenedStreamSub=P.EMPTY,this.pickerBeforeOpenedStreamSub=P.EMPTY,this.focusedElementBeforeOpen=null,this._selecteds=[],this.defaultScrollStrategy=_}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(t=>{Array.isArray(t)?this.selecteds=t:this.selected=t})}open(){if(!(this._opened||this.disabled)){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&this.pickerType!=="calendar"&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),this.pickerMode==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds=[...e]:this.selected=e,this.pickerMode!=="dialog"&&this.pickerType==="calendar"&&(this.selectMode==="single"&&this.selected||this.selectMode==="rangeFrom"&&this.selecteds[0]||this.selectMode==="rangeTo"&&this.selecteds[1]||this.selectMode==="range"&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}selectDate(e){this.dateSelected.emit(e)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerBeforeOpenedStreamSub&&(this.pickerBeforeOpenedStreamSub.unsubscribe(),this.pickerBeforeOpenedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);let e=()=>{if(this._opened){this._opened=!1;let t=this.selected||this.selecteds;this.afterPickerClosed.emit(t),this.focusedElementBeforeOpen=null}};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode){let t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open($e,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...ne(this.backdropClass)],paneClass:["owl-dt-dialog",...ne(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=Qt(this.dialogRef.componentInstance),this.dialogRef.beforeOpen().subscribe(()=>{this.beforePickerOpen.emit(null)}),this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new pe($e,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){let e=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=e.instance,this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.popupRef.updatePosition()}),this.pickerBeforeOpenedStreamSub=this.pickerContainer.beforePickerOpenedStream.pipe(L(1)).subscribe(()=>{this.beforePickerOpen.emit(null)}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe(L(1)).subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0})}}createPopup(){let e=new He({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...ne(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup",...ne(this.panelClass)]});this.popupRef=this.overlay.create(e),et(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(se(t=>t.keyCode===27||this._dtInput&&t.altKey&&t.keyCode===38))).subscribe(()=>this.close())}createPopupPositionStrategy(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}};n.\u0275fac=function(t){return new(t||n)(u(re),u(Bt),u($i),u(Q),u(q),u(B,8),u(Ui),u(ce,8),u(be,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",endAt:"endAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",beforePickerOpen:"beforePickerOpen",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},exportAs:["owlDateTime"],standalone:!1,features:[Pe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0});let s=n;return s})(),or={provide:mt,useExisting:Fe(()=>Ke),multi:!0},lr={provide:ci,useExisting:Fe(()=>Ke),multi:!0},Ke=(()=>{let n=class n{get required(){return this._required}set required(e){this._required=e===""||e,this.validatorOnChange()}set owlDateTime(e){this.registerDateTimePicker(e)}set owlDateTimeFilter(e){this._dateTimeFilter=e,this.validatorOnChange()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return!!this._disabled}set disabled(e){let t=_e(e),i=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&i.blur&&i.blur()}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);let t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get owlDateTimeInputAriaHaspopup(){return!0}get owlDateTimeInputAriaOwns(){return this.dtPicker.opened&&this.dtPicker.id||null}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null}get owlDateTimeInputDisabled(){return this.disabled}constructor(e,t,i,a){if(this.elmRef=e,this.renderer=t,this.dateTimeAdapter=i,this.dateTimeFormats=a,this._selectMode="single",this.rangeSeparator="-",this._values=[],this.dateTimeChange=new T,this.dateTimeInput=new T,this.dtPickerSub=P.EMPTY,this.localeSub=P.EMPTY,this.lastValueValid=!0,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.validatorOnChange=()=>{},this.parseValidator=()=>this.lastValueValid?null:{owlDateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{if(this.isInSingleMode){let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.min||!d||this.dateTimeAdapter.compare(this.min,d)<=0?null:{owlDateTimeMin:{min:this.min,actual:d}}}else if(this.isInRangeMode&&o.value){let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),_=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.min||!d||!_||this.dateTimeAdapter.compare(this.min,d)<=0?null:{owlDateTimeMin:{min:this.min,actual:[d,_]}}}},this.maxValidator=o=>{if(this.isInSingleMode){let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.max||!d||this.dateTimeAdapter.compare(this.max,d)>=0?null:{owlDateTimeMax:{max:this.max,actual:d}}}else if(this.isInRangeMode&&o.value){let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),_=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.max||!d||!_||this.dateTimeAdapter.compare(this.max,_)>=0?null:{owlDateTimeMax:{max:this.max,actual:[d,_]}}}},this.filterValidator=o=>{let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this._dateTimeFilter||!d||this._dateTimeFilter(d)?null:{owlDateTimeFilter:!0}},this.rangeValidator=o=>{if(this.isInSingleMode||!o.value)return null;let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),_=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!d||!_||this.dateTimeAdapter.compare(d,_)<=0?null:{owlDateTimeRange:!0}},this.requiredRangeValidator=o=>{if(this.isInSingleMode||!o.value||!this.required)return null;let d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),_=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!d||!_?{owlRequiredDateTimeRange:[d,_]}:null},this.validator=fe.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator,this.requiredRangeValidator]),this.valueChange=new T,this.disabledChange=new T,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange(e),this.onModelTouched(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}writeValue(e){this.isInSingleMode?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.keyCode===40&&(this.dtPicker.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched()}handleInputOnHost(e){let t=e.target.value;this._selectMode==="single"?this.changeInputInSingleMode(t):this._selectMode==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){let e=this._values[0],t=this._values[1],i=e?this.dateTimeAdapter.format(e,this.dtPicker.formatString):"",a=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"";!i&&!a?this.renderer.setProperty(this.elmRef.nativeElement,"value",null):this._selectMode==="range"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i+" "+this.rangeSeparator+" "+a):this._selectMode==="rangeFrom"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this._selectMode==="rangeTo"&&this.renderer.setProperty(this.elmRef.nativeElement,"value",a)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}else return null}changeInputInSingleMode(e){let t=e;this.dtPicker.pickerType==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),(!this.isSameValue(i,this._value)||i===null)&&(this._value=i,this.valueChange.emit(i),this.onModelChange(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this._selectMode==="rangeFrom"?this._values[0]:this._values[1];this.dtPicker.pickerType==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),!(this._selectMode==="rangeFrom"&&this.isSameValue(i,this._values[0])&&i||this._selectMode==="rangeTo"&&this.isSameValue(i,this._values[1])&&i)&&(this._values=this._selectMode==="rangeFrom"?[i,this._values[1]]:[this._values[0],i],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator),i=t[0],a=t[1];this.dtPicker.pickerType==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values[0]),a=this.convertTimeStringToDateTimeString(a,this.values[1]));let o=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),d=this.dateTimeAdapter.parse(a,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!d||this.dateTimeAdapter.isValid(d)),o=this.getValidDate(o),d=this.getValidDate(d),(!this.isSameValue(o,this._values[0])||!this.isSameValue(d,this._values[1])||o===null&&d===null)&&(this._values=[o,d],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e===t}};n.\u0275fac=function(t){return new(t||n)(u(K),u(Nt),u(B,8),u(ce,8))},n.\u0275dir=ue({type:n,selectors:[["input","owlDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&w("keydown",function(o){return i.handleKeydownOnHost(o)})("blur",function(o){return i.handleBlurOnHost(o)})("input",function(o){return i.handleInputOnHost(o)})("change",function(o){return i.handleChangeOnHost(o)}),t&2&&(jt("disabled",i.owlDateTimeInputDisabled),O("aria-haspopup",i.owlDateTimeInputAriaHaspopup)("aria-owns",i.owlDateTimeInputAriaOwns)("min",i.minIso8601)("max",i.maxIso8601))},inputs:{required:"required",owlDateTime:"owlDateTime",owlDateTimeFilter:"owlDateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["owlDateTimeInput"],standalone:!1,features:[nt([or,lr])]});let s=n;return s})();var dr={provide:mt,useExisting:Fe(()=>cr),multi:!0},cr=(()=>{let n=class n extends ji{get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=_e(e)}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e}get startAt(){return this._startAt?this._startAt:this.selectMode==="single"?this.value||null:this.selectMode==="range"||this.selectMode==="rangeFrom"?this.values[0]||null:this.selectMode==="rangeTo"&&this.values[1]||null}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get endAt(){return this._endAt?this._endAt:this.selectMode==="single"?this.value||null:(this.selectMode==="range"||this.selectMode==="rangeFrom")&&this.values[1]||null}set endAt(e){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e}get minDateTime(){return this._min||null}set minDateTime(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get maxDateTime(){return this._max||null}set maxDateTime(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e}get values(){return this._values}set values(e){e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),t?this.dateTimeAdapter.clone(t):null)),this._values=[...e],this.selecteds=[...e]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get owlDTInlineClass(){return!0}constructor(e,t,i){super(t,i),this.changeDetector=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._pickerType="both",this._disabled=!1,this._selectMode="single",this._values=[],this.yearSelected=new T,this.monthSelected=new T,this.dateSelected=new T,this._selecteds=[],this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.container.picker=this}writeValue(e){this.isInSingleMode?(this.value=e,this.container.pickerMoment=e):(this.values=e,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}select(e){this.disabled||(Array.isArray(e)?this.values=[...e]:this.value=e,this.onModelChange(e),this.onModelTouched())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}selectDate(e){this.dateSelected.emit(e)}};n.\u0275fac=function(t){return new(t||n)(u(q),u(B,8),u(ce,8))},n.\u0275cmp=k({type:n,selectors:[["owl-date-time-inline"]],viewQuery:function(t,i){if(t&1&&X($e,7),t&2){let a;J(a=ee())&&(i.container=a.first)}},hostVars:2,hostBindings:function(t,i){t&2&&N("owl-dt-inline",i.owlDTInlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",endAt:"endAt",dateTimeFilter:[0,"owlDateTimeFilter","dateTimeFilter"],minDateTime:[0,"min","minDateTime"],maxDateTime:[0,"max","maxDateTime"],value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},standalone:!1,features:[nt([dr]),Pe],decls:1,vars:0,template:function(t,i){t&1&&y(0,"owl-date-time-container")},dependencies:[$e],styles:["[_nghost-%COMP%]{--container-enter-animation-duration: 0;--container-leave-animation-duration: 0}"],changeDetection:0});let s=n;return s})(),hr=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=z({type:n}),n.\u0275inj=j({providers:[ir,$i],imports:[ot,je,we,li]});let s=n;return s})(),qi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=z({type:n}),n.\u0275inj=j({providers:[Oe,ar,...$n],imports:[ot,we,hr,je]});let s=n;return s})();function ze(s,n){let r=Array(s);for(let e=0;e<s;e++)r[e]=n(e);return r}function ur(s,n,r,e=0,t=0,i=0){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(r<1)throw Error(`Invalid date "${r}". Date has to be greater than 0.`);if(e<0||e>23)throw Error(`Invalid hours "${e}". Hours has to be between 0 and 23.`);if(t<0||t>59)throw Error(`Invalid minutes "${t}". Minutes has to between 0 and 59.`);if(i<0||i>59)throw Error(`Invalid seconds "${i}". Seconds has to be between 0 and 59.`);let a=Gi(s,n,r,e,t,i);if(a.getMonth()!==n)throw Error(`Invalid date "${r}" for month with index "${n}".`);return a}function mr(s){return Gi(s.getFullYear(),s.getMonth()+1,0).getDate()}function Gi(s,n,r,e=0,t=0,i=0){let a=new Date(s,n,r,e,t,i);return s>=0&&s<100&&a.setFullYear(a.getFullYear()-1900),a}var Ae=typeof Intl<"u",pr={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},fr={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},gr=ze(31,s=>String(s+1)),_r=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:[+\-]\d{2}:\d{2}))?)?$/,Tr=(()=>{let n=class n extends B{constructor(e,t){super(),this.owlDateTimeLocale=e,this.firstMonthOfTheYear=0,this.firstDayOfTheWeek=0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDay(e){return e.getDay()}getDate(e){return e.getDate()}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}getTime(e){return e.getTime()}getNumDaysInMonth(e){return mr(e)}differenceInCalendarDays(e,t){if(this.isValid(e)&&this.isValid(t)){let i=this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e)),a=this.createDate(this.getYear(t),this.getMonth(t),this.getDate(t)),o=this.getTime(i)-i.getTimezoneOffset()*this.milliseondsInMinute,d=this.getTime(a)-a.getTimezoneOffset()*this.milliseondsInMinute;return Math.round((o-d)/this.millisecondsInDay)}else return null}getYearName(e){if(Ae){let t=new Intl.DateTimeFormat(this.getLocale(),{year:"numeric",timeZone:"utc"});return this.stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getMonthNames(e){if(Ae){let t=new Intl.DateTimeFormat(this.getLocale(),{month:e,timeZone:"utc"});return ze(12,i=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,i,1))))}return pr[e]}getDayOfWeekNames(e){if(Ae){let t=new Intl.DateTimeFormat(this.getLocale(),{weekday:e,timeZone:"utc"});return ze(7,i=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,0,i+1))))}return fr[e]}getDateNames(){if(Ae){let e=new Intl.DateTimeFormat(this.getLocale(),{day:"numeric",timeZone:"utc"});return ze(31,t=>this.stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return gr}toIso8601(e){return e.toISOString()}isEqual(e,t){return this.isValid(e)&&this.isValid(t)?e.getTime()===t.getTime():!1}isSameDay(e,t){if(this.isValid(e)&&this.isValid(t)){let i=this.clone(e),a=this.clone(t);return i.setHours(0,0,0,0),a.setHours(0,0,0,0),i.getTime()===a.getTime()}else return!1}isValid(e){return e&&!isNaN(e.getTime())}invalid(){return new Date(NaN)}isDateInstance(e){return e instanceof Date}addCalendarYears(e,t){return this.addCalendarMonths(e,t*12)}addCalendarMonths(e,t){let i=this.clone(e);t=Number(t);let a=i.getMonth()+t,o=new Date(0);o.setFullYear(i.getFullYear(),a,1),o.setHours(0,0,0,0);let d=this.getNumDaysInMonth(o);return i.setMonth(a,Math.min(d,i.getDate())),i}addCalendarDays(e,t){let i=this.clone(e);return t=Number(t),i.setDate(i.getDate()+t),i}setHours(e,t){let i=this.clone(e);return i.setHours(t),i}setMinutes(e,t){let i=this.clone(e);return i.setMinutes(t),i}setSeconds(e,t){let i=this.clone(e);return i.setSeconds(t),i}createDate(e,t,i,a=0,o=0,d=0){return ur(e,t,i,a,o,d)}clone(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e),this.getHours(e),this.getMinutes(e),this.getSeconds(e))}now(){return new Date}format(e,t){if(!this.isValid(e))throw Error("JSNativeDate: Cannot format invalid date.");if(Ae){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e),e.setFullYear(Math.max(1,Math.min(9999,e.getFullYear())))),t=kt(xe({},t),{timeZone:"utc"});let i=new Intl.DateTimeFormat(this.getLocale(),t);return this.stripDirectionalityCharacters(this._format(i,e))}return this.stripDirectionalityCharacters(e.toDateString())}parse(e,t){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}deserialize(e){if(typeof e=="string"){if(!e)return null;if(_r.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){let i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(i)}};n.\u0275fac=function(t){return new(t||n)(U(Yn,8),U(ie))},n.\u0275prov=A({token:n,factory:n.\u0275fac});let s=n;return s})(),br={parseInput:null,fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}},wr=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=z({type:n}),n.\u0275inj=j({providers:[{provide:B,useClass:Tr}],imports:[xi]});let s=n;return s})(),Ki=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=z({type:n}),n.\u0275inj=j({providers:[{provide:ce,useValue:br}],imports:[wr]});let s=n;return s})();var Qe=class s{timeOfDayMs(n){return n?n.getUTCHours()*36e5+n.getUTCMinutes()*6e4+n.getUTCSeconds()*1e3+n.getUTCMilliseconds():NaN}isStartAfterEnd(n,r){if(!n||!r)return!1;let e=this.timeOfDayMs(n),t=this.timeOfDayMs(r);return isNaN(e)||isNaN(t)?!1:(t===0&&e>0&&(t+=24*36e5),e>=t)}floorToHour(n=new Date){let r=new Date(n);return r.setMinutes(0,0,0),r}addHour(n=new Date){let r=new Date(n);return r.setHours(r.getHours()+1,0,0),r}floorToDay(n=new Date){let r=new Date(n);return r.setHours(0,0,0),r}static \u0275fac=function(r){return new(r||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})};function yr(s,n){if(s&1){let r=S();l(0,"jt-ui-button",20),w("click",function(){f(r);let t=m();return g(t.update())}),M(1," Update "),c()}if(s&2){let r=m();p("disabled",r._form.invalid)}}function Mr(s,n){if(s&1){let r=S();l(0,"jt-ui-button",21),w("click",function(){f(r);let t=m();return g(t.submitForm())}),M(1," Save "),c()}if(s&2){let r=m();p("disabled",r._form.invalid)}}var Qi=class s{_fb=C(gi);_dateUtils=C(Qe);_employee=I(void 0);set employee(n){this._employee.set(n??void 0),n&&this._form.patchValue({employeeId:n.id})}_shiftToEdit=I(void 0);set shiftToEdit(n){this._shiftToEdit.set(n??void 0),n&&(this._form.patchValue({id:n.id,employeeId:n.employeeId,date:new Date(n.date),startTimeUtc:new Date(n.startTimeUtc),endTimeUtc:new Date(n.endTimeUtc)}),this._form.updateValueAndValidity(),this._form.markAllAsTouched())}shift=Jt();_minDate=I(this._dateUtils.floorToDay(new Date));_minStartTime=I(this._dateUtils.floorToDay(new Date));_minEndTime=I(this._minStartTime());_form=this._fb.group({id:this._fb.nonNullable.control(void 0,[]),employeeId:this._fb.nonNullable.control("",[fe.required]),date:this._fb.nonNullable.control(new Date,[fe.required]),startTimeUtc:this._fb.nonNullable.control(null,[fe.required]),endTimeUtc:this._fb.nonNullable.control(null,[fe.required])});_isEditMode=Xt(()=>!!this._shiftToEdit());_startTime$=this._form.controls.startTimeUtc.valueChanges.pipe(ve(n=>n??this._dateUtils.floorToHour(new Date)));_startTime=ri(this._startTime$,{initialValue:this._dateUtils.floorToDay(new Date)});constructor(){this._form.controls.endTimeUtc.valueChanges.subscribe(()=>{this.validateStartEndTimes()}),this._form.controls.startTimeUtc.valueChanges.subscribe(n=>{this._minEndTime.set(n??this._dateUtils.floorToHour(new Date)),this.validateStartEndTimes()})}submitForm(){if(!this._form.valid)return;let n=this.toShiftDto();console.log("submitForm",n),this.shift.emit(n)}update(){if(!this._form.valid)return;let n=this.toShiftDto();console.log("update",n),this.shift.emit(n)}toShiftDto(){return xe({},this._form.value)}validateStartEndTimes(){let n=this._form.controls.startTimeUtc.value,r=this._form.controls.endTimeUtc.value;this._dateUtils.isStartAfterEnd(n,r)?this._form.controls.endTimeUtc.setErrors({endTimeBeforeStartTime:!0}):this._form.controls.endTimeUtc.setErrors(null)}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=k({type:s,selectors:[["jt-shift-form"]],hostAttrs:["ngSkipHydration","true"],inputs:{employee:"employee",shiftToEdit:"shiftToEdit"},outputs:{shift:"shift"},decls:28,vars:24,consts:[["dtPickerDate",""],["dtStartTime",""],["dtEndTime",""],[1,"form",3,"formGroup","sbFormControlFirstError"],["type","hidden","formControlName","id"],["type","hidden","formControlName","employeeId"],["tabindex","0",1,"block"],[1,"form-row","title"],["for","title",1,"label"],["id","title","formControlName","date","placeholder","Enter Date",1,"control","input",3,"min","owlDateTimeTrigger","owlDateTime"],[3,"control"],[3,"pickerType","startAt"],[1,"form-row"],["for","description",1,"label"],["id","description","formControlName","startTimeUtc","placeholder","Enter Start Time",1,"control","input",3,"owlDateTimeTrigger","owlDateTime"],[3,"pickerType","startAt","stepHour","stepMinute"],["id","description","formControlName","endTimeUtc","placeholder","Enter End Time",1,"control","input",3,"min","owlDateTimeTrigger","owlDateTime"],[1,"form-actions"],["id","btn-edit","type","button",3,"disabled"],["id","btn-submit","type","button",3,"disabled"],["id","btn-edit","type","button",3,"click","disabled"],["id","btn-submit","type","button",3,"click","disabled"]],template:function(r,e){if(r&1&&(l(0,"form",3),y(1,"input",4)(2,"input",5),l(3,"div",6)(4,"div",7)(5,"label",8),M(6,"Date"),c(),y(7,"input",9)(8,"sb-first-error",10)(9,"owl-date-time",11,0),c(),l(11,"div",12)(12,"label",13),M(13,"Start Time"),c(),y(14,"input",14)(15,"sb-first-error",10)(16,"owl-date-time",15,1),c(),l(18,"div",12)(19,"label",13),M(20,"End Time"),c(),y(21,"input",16)(22,"sb-first-error",10)(23,"owl-date-time",15,2),c()(),l(25,"div",17),x(26,yr,2,1,"jt-ui-button",18)(27,Mr,2,1,"jt-ui-button",19),c()()),r&2){let t=W(10),i=W(17),a=W(24);p("formGroup",e._form)("sbFormControlFirstError",e._form),h(7),p("min",e._minDate())("owlDateTimeTrigger",t)("owlDateTime",t),h(),p("control",e._form.controls.date),h(),p("pickerType","calendar")("startAt",e._minDate()),h(5),p("owlDateTimeTrigger",i)("owlDateTime",i),h(),p("control",e._form.controls.startTimeUtc),h(),p("pickerType","timer")("startAt",e._startTime())("stepHour",1)("stepMinute",60),h(5),p("min",e._minEndTime())("owlDateTimeTrigger",a)("owlDateTime",a),h(),p("control",e._form.controls.endTimeUtc),h(),p("pickerType","timer")("startAt",e._minStartTime())("stepHour",1)("stepMinute",60),h(3),E(e._isEditMode()?26:27)}},dependencies:[_i,mi,di,hi,ui,pi,fi,wi,bi,Ti,qi,Wi,Ke,Zi,Ki],styles:["[_nghost-%COMP%]{display:block;box-shadow:0 6px 24px #1018280f}.footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.footer[_ngcontent-%COMP%]   .checkboxes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.footer[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{margin-bottom:0;margin-left:20px}"],changeDetection:0})};var Y=(()=>{class s{static ColorBgError="#f44336";static ColorBgWarn="#ffcc00";static ColorBgSuccess="#c4ecff";static ColorBgInfo="#e2ffa8";static ColorBgDefault="#fff";static ColorText="#212121"}return s})(),vt=new H("toast-config",{factory:()=>Xe.Create()}),Xe=class s{_colorBgError=Y.ColorBgError;get colorBgError(){return this._colorBgError}_colorTxtError=Y.ColorText;get colorTxtError(){return this._colorTxtError=this._colorTxtError??Y.ColorText}_colorBgWarn=Y.ColorBgWarn;get colorBgWarn(){return this._colorBgWarn}_colorTxtWarn=Y.ColorText;get colorTxtWarn(){return this._colorTxtWarn=this._colorTxtWarn??Y.ColorText}_colorBgSuccess=Y.ColorBgSuccess;get colorBgSuccess(){return this._colorBgSuccess}_colorTxtSuccess=Y.ColorText;get colorTxtSuccess(){return this._colorTxtSuccess=this._colorTxtSuccess??Y.ColorText}_colorBgInfo=Y.ColorBgInfo;get colorBgInfo(){return this._colorBgInfo}_colorTxtInfo=Y.ColorText;get colorTxtInfo(){return this._colorTxtInfo=this._colorTxtInfo??Y.ColorText}_colorBgDefault=Y.ColorBgDefault;get colorBgDefault(){return this._colorBgDefault}_colorText=Y.ColorText;get colorText(){return this._colorText}_positionConfig=Dt.Create();get positionConfig(){return this._positionConfig}_animationConfig=Mt.Create();get animationConfig(){return this._animationConfig}constructor(n,r,e,t,i,a,o,d){n&&(this._colorBgError=n),r&&(this._colorBgWarn=r),e&&(this._colorBgSuccess=e),t&&(this._colorBgInfo=t),i&&(this._colorBgDefault=i),a&&(this._colorText=a),o&&(this._positionConfig=o),d&&(this._animationConfig=d)}static Create(n,r,e,t,i,a,o,d){return new s(n,r,e,t,i,a,o,d)}setColorBgError(n){return this._colorBgError=n,this}setColorBgWarn(n){return this._colorBgWarn=n,this}setColorBgSuccess(n){return this._colorBgSuccess=n,this}setColorBgInfo(n){return this._colorBgInfo=n,this}setColorTxtError(n){return this._colorTxtError=n,this}setColorTxtWarn(n){return this._colorTxtWarn=n,this}setColorTxtSuccess(n){return this._colorTxtSuccess=n,this}setColorTxtInfo(n){return this._colorTxtInfo=n,this}setColorBgDefault(n){return this._colorBgDefault=n,this}setColorText(n){return this._colorText=n,this}setPositionConfig(n){return this._positionConfig=n,this}setAnimationConfig(n){return this._animationConfig=n,this}},Mt=class s{leaveMs;enterMs;constructor(n=500,r=350){this.leaveMs=n,this.enterMs=r}static Create(n=500,r=350){return new s(n,r)}},Dt=class s{topPx;rightPx;bottomPx;leftPx;constructor(n=20,r=20,e=20,t=20){this.topPx=n,this.rightPx=r,this.bottomPx=e,this.leftPx=t}static Create(n=20,r=20,e=20,t=20){return new s(n,r,e,t)}};var za=Xe.Create("var(--mat-sys-error-container)","var(--mat-sys-tertiary-container)","var(--mat-sys-primary-container)","var(--mat-sys-secondary-container)").setColorTxtError("var(--mat-sys-on-error-container)").setColorTxtWarn("var(--mat-sys-on-tertiary-container)").setColorTxtSuccess("var(--mat-sys-on-primary-container)").setColorTxtInfo("var(--mat-sys-on-secondary-container)").setColorBgDefault("var(--mat-sys-surface-container)");var Dr=(s,n)=>({enterMs:s,leaveMs:n}),vr=(s,n)=>({value:s,params:n}),kr=s=>({toastType:s});function Sr(s,n){if(s&1&&(l(0,"div",7),it(1,8),c()),s&2){let r=m(),e=W(9);Z("color",r._txtColor()),h(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",me(4,kr,r._toastType()))}}function Ar(s,n){if(s&1){let r=S();l(0,"button",9),w("click",function(){f(r);let t=m();return g(t.close())}),it(1,10),c()}if(s&2){let r=m(),e=W(7);Z("color",r._txtColor()),h(),p("ngTemplateOutlet",e)}}function Ir(s,n){s&1&&(R(),l(0,"svg",11),y(1,"path",12)(2,"path",13),c())}function Or(s,n){s&1&&(R(),l(0,"svg",14),y(1,"path",15),c())}function xr(s,n){s&1&&(R(),l(0,"svg",14),y(1,"path",16),c())}function Er(s,n){s&1&&(R(),l(0,"svg",14),y(1,"path",17),c())}function Vr(s,n){s&1&&(R(),l(0,"svg",14),y(1,"path",18),c())}function Fr(s,n){s&1&&(R(),l(0,"svg",14),y(1,"path",18),c())}function Rr(s,n){if(s&1&&x(0,Or,2,0,":svg:svg",14)(1,xr,2,0,":svg:svg",14)(2,Er,2,0,":svg:svg",14)(3,Vr,2,0,":svg:svg",14)(4,Fr,2,0,":svg:svg",14),s&2){let r,e=n.toastType;E((r=e)==="warn"?0:r==="error"?1:r==="success"?2:r==="info"?3:4)}}var he=(()=>{class s{type;text;dismissible;showIcon;positionVertical;positionHorizontal;animationType;constructor(r,e,t={}){this.type=r,this.text=e,this.dismissible=t.dismissible??!0,this.showIcon=t.showIcon??!0,this.animationType=t.animationType??"fade",this.positionVertical=t.positionVertical??"top",this.positionHorizontal=t.positionHorizontal??"right"}static Create=(r,e,t={})=>new s(r,e,t);static Success=(r,e={})=>new s("success",r,e);static Error=(r,e={})=>new s("error",r,e);static Warning=(r,e={})=>new s("warn",r,e);static Info=(r,e={})=>new s("info",r,e);positionTopLeft(){return this.positionVertical="top",this.positionHorizontal="left",this}positionTopRight(){return this.positionVertical="top",this.positionHorizontal="right",this}positionTopCenter(){return this.positionVertical="top",this.positionHorizontal="center",this}positionBottomLeft(){return this.positionVertical="bottom",this.positionHorizontal="left",this}positionBottomRight(){return this.positionVertical="bottom",this.positionHorizontal="right",this}positionBottomCenter(){return this.positionVertical="bottom",this.positionHorizontal="center",this}positionCenter(){return this.positionVertical="center",this.positionHorizontal="center",this}withFade(){return this.animationType="fade",this}withSlide(){return this.animationType="slide",this}withScale(){return this.animationType="scale",this}withBounce(){return this.animationType="bounce",this}withWobble(){return this.animationType="wobble",this}withRubber(){return this.animationType="rubber",this}withSpin(){return this.animationType="spin",this}}return s})(),Pr=lt("dynamicToastAnimation",[dt("default",b({opacity:1,transform:"translateY(0) scale(1)"})),F("void => fade",[b({opacity:0}),V("{{ enterMs }}ms")],{params:{enterMs:300}}),F("fade => closing",[V("{{ leaveMs }}ms",b({opacity:0}))],{params:{leaveMs:200}}),F("void => slide",[b({transform:"translateY(-100%)",opacity:0}),V("{{ enterMs }}ms ease-out",b({transform:"translateY(0)",opacity:1}))],{params:{enterMs:300}}),F("slide => closing",[V("{{ leaveMs }}ms ease-in",b({transform:"translateY(-100%)",opacity:0}))],{params:{leaveMs:200}}),F("void => scale",[b({transform:"scale(0.3)",opacity:0}),V("{{ enterMs }}ms cubic-bezier(0.175, 0.885, 0.32, 1.275)",b({transform:"scale(1)",opacity:1}))],{params:{enterMs:300}}),F("scale => closing",[V("{{ leaveMs }}ms ease-in",b({transform:"scale(0.3)",opacity:0}))],{params:{leaveMs:200}}),F("void => bounce",[b({transform:"translateY(-100%)",opacity:0}),V("{{ enterMs }}ms cubic-bezier(0.68, -0.55, 0.265, 1.55)",b({transform:"translateY(0)",opacity:1}))],{params:{enterMs:400}}),F("bounce => closing",[V("{{ leaveMs }}ms cubic-bezier(0.6, -0.28, 0.735, 0.045)",b({transform:"translateY(-100%)",opacity:0}))],{params:{leaveMs:300}}),F("void => wobble",[b({transform:"translateX(-100%) rotate(-5deg)",opacity:0}),V("{{ enterMs }}ms ease-out",Be([b({transform:"translateX(-100%) rotate(-5deg)",opacity:0,offset:0}),b({transform:"translateX(0) rotate(0deg)",opacity:1,offset:.3}),b({transform:"translateX(-15px) rotate(-2deg)",opacity:1,offset:.5}),b({transform:"translateX(15px) rotate(2deg)",opacity:1,offset:.65}),b({transform:"translateX(-10px) rotate(-1deg)",opacity:1,offset:.8}),b({transform:"translateX(5px) rotate(1deg)",opacity:1,offset:.9}),b({transform:"translateX(0) rotate(0deg)",opacity:1,offset:1})]))],{params:{enterMs:800}}),F("wobble => closing",[V("{{ leaveMs }}ms ease-in",Be([b({transform:"translateX(0) rotate(0deg)",opacity:1,offset:0}),b({transform:"translateX(-10px) rotate(-2deg)",opacity:1,offset:.15}),b({transform:"translateX(10px) rotate(2deg)",opacity:1,offset:.3}),b({transform:"translateX(-5px) rotate(-1deg)",opacity:1,offset:.45}),b({transform:"translateX(5px) rotate(1deg)",opacity:1,offset:.6}),b({transform:"translateX(0) rotate(0deg)",opacity:1,offset:.7}),b({transform:"translateX(100%) rotate(5deg)",opacity:0,offset:1})]))],{params:{leaveMs:600}}),F("void => spin",[b({transform:"rotate(360deg) scale(0)",opacity:0}),V("{{ enterMs }}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",b({transform:"rotate(0deg) scale(1)",opacity:1}))],{params:{enterMs:800}}),F("spin => closing",[V("{{ leaveMs }}ms ease-in",b({transform:"rotate(-180deg) scale(0)",opacity:0}))],{params:{leaveMs:500}}),F("void => rubber",[b({transform:"scaleX(0.1) scaleY(2)",opacity:0}),V("{{ enterMs }}ms cubic-bezier(0.175, 0.885, 0.32, 1.275)",b({transform:"scaleX(1) scaleY(1)",opacity:1}))],{params:{enterMs:700}}),F("rubber => closing",[V("{{ leaveMs }}ms cubic-bezier(0.6, 0.04, 0.98, 0.335)",b({transform:"scaleX(2) scaleY(0.1)",opacity:0}))],{params:{leaveMs:400}})]),Me=class{overlay;data;_afterClosed=new v;constructor(n,r){this.overlay=n,this.data=r}close(){this.overlay.dispose(),this._afterClosed.next(),this._afterClosed.complete()}afterClosed(){return this._afterClosed.asObservable()}isVisible(){return this.overlay&&this.overlay.overlayElement}getPosition(){return this.overlay.overlayElement?.getBoundingClientRect?.()??0}},Xi=(()=>{class s{_data=C(he);_ref=C(Me);_toastConfig=C(vt);_bgColor=I(this.getBackgroundColor(this._data,this._toastConfig));_txtColor=I(this.getTextColor(this._data,this._toastConfig));_txt=I(this._data.text??"");_toastType=I(this._data.type);_animationState=I(this._data.animationType??"fade");_dismissible=I(this._data.dismissible);_showIcon=I(this._data.showIcon);close=()=>this._animationState.set("closing");onAnimationFinished(r){let{toState:e}=r,t=e==="closing",i=this._animationState()==="closing";t&&i&&this._ref.close()}getBackgroundColor(r,e){switch(r.type){case"success":return e.colorBgSuccess;case"info":return e.colorBgInfo;case"warn":return e.colorBgWarn;case"error":return e.colorBgError;default:return e.colorBgDefault}}getTextColor(r,e){switch(r.type){case"success":return e.colorTxtSuccess;case"info":return e.colorTxtInfo;case"warn":return e.colorTxtWarn;case"error":return e.colorTxtError;default:return e.colorText}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=k({type:s,selectors:[["sb-tst"]],decls:10,vars:14,consts:[["closeButtonTemplate",""],["iconTemplate",""],[1,"toast"],["id","icon","aria-label","Toast icon",3,"color"],[1,"txt-container"],[1,"toast-text"],["id","button-close","aria-label","Close toast",3,"color"],["id","icon","aria-label","Toast icon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","button-close","aria-label","Close toast",3,"click"],[3,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z","fill","currentColor"],["d","M0 0h24v24H0z","fill","none"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24"],["d","m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Zm40-100Z"],["d","M330-120 120-330v-300l210-210h300l210 210v300L630-120H330Zm36-190 114-114 114 114 56-56-114-114 114-114-56-56-114 114-114-114-56 56 114 114-114 114 56 56Zm-2 110h232l164-164v-232L596-760H364L200-596v232l164 164Zm116-280Z"],["d","M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"],["d","M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"]],template:function(e,t){if(e&1){let i=S();l(0,"div",2),w("@dynamicToastAnimation.done",function(o){return f(i),g(t.onAnimationFinished(o))}),x(1,Sr,2,6,"div",3),l(2,"div",4)(3,"div",5),M(4),c()(),x(5,Ar,2,3,"button",6),c(),Le(6,Ir,3,0,"ng-template",null,0,st)(8,Rr,5,1,"ng-template",null,1,st)}e&2&&(Z("background-color",t._bgColor()),p("@dynamicToastAnimation",rt(11,vr,t._animationState(),rt(8,Dr,t._toastConfig.animationConfig.enterMs,t._toastConfig.animationConfig.leaveMs))),h(),E(t._showIcon()?1:-1),h(2),Z("color",t._txtColor()),h(),te(t._txt()),h(),E(t._dismissible()?5:-1))},dependencies:[we,ii],styles:["[_nghost-%COMP%]{--toast-border-radius: 4px;--toast-width: 320px;--toast-min-height: 30px;--toast-padding-x: 15px;--toast-padding-y: 10px;--toast-text-padding: 0 10px;--toast-border-width: 1px;--toast-border-style: solid;--toast-border-color: #dddddd #d6d6d6 #cfcfcf;--toast-box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--toast-icon-size: 24px;--toast-focus-outline-width: 2px;--toast-focus-outline-offset: 2px}.toast[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:var(--toast-padding-y) var(--toast-padding-x);width:var(--toast-width);min-height:var(--toast-min-height);border-width:var(--toast-border-width);border-style:var(--toast-border-style);border-color:var(--toast-border-color);border-radius:var(--toast-border-radius);box-shadow:var(--toast-box-shadow)}@media (max-width: 480px){.toast[_ngcontent-%COMP%]{width:96%;max-width:calc(100% - 32px)}}button[_ngcontent-%COMP%]{background:none;border:none;padding:0;margin:0;font:inherit;color:inherit;cursor:pointer;outline:none}button[_ngcontent-%COMP%]:focus-visible{outline:2px solid currentColor;outline-offset:2px}.txt-container[_ngcontent-%COMP%]{flex:1;border-radius:var(--border-radius)}.toast-text[_ngcontent-%COMP%]{padding:0 10px;flex:1}#button-close[_ngcontent-%COMP%]{cursor:pointer}#button-close[_ngcontent-%COMP%], #icon[_ngcontent-%COMP%]{height:24px;width:24px;font-size:24px;border-radius:50%}#button-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], #icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentColor;width:100%;height:100%}"],data:{animation:[Pr]},changeDetection:0})}return s})(),_o=(()=>{class s{overlay=C(re);parentInjector=C(G);destroyer=C(Ft);toastConfig=C(vt);activeToasts=new Set;constructor(){setTimeout(()=>this.warmup(),1)}warmup(){let r=this.overlay.position().global().top("-9999px").left("-9999px"),e=this.overlay.create({positionStrategy:r}),t=new he("info","",{showIcon:!1,dismissible:!1,animationType:"fade"}),i=new Me(e,t),a=this.getInjector(t,i,this.parentInjector),o=new pe(Xi,null,a);e.attach(o),setTimeout(()=>{i.close(),e.dispose()},1)}show(r,e){let t=this.getPositionStrategy(r),i=this.overlay.create({positionStrategy:t}),a=new Me(i,r);this.activeToasts.add(a),a.afterClosed().pipe(ni(this.destroyer)).subscribe(()=>{console.log("closing",a),this.activeToasts.delete(a)});let o=this.getInjector(r,a,this.parentInjector),d=new pe(Xi,null,o),_=i.attach(d);return e&&e>0&&xt(e).subscribe(()=>_.instance.close()),a}success=(r,e=5e3,t={})=>this.show(he.Success(r,t),e);error=(r,e=8e3,t={})=>this.show(he.Error(r,t),e);warning=(r,e=6e3,t={})=>this.show(he.Warning(r,t),e);info=(r,e=5e3,t={})=>this.show(he.Info(r,t),e);clearAll(){this.activeToasts.forEach(r=>r.close()),this.activeToasts.clear()}getActiveCount=()=>this.activeToasts.size;showMsg=(r,e="error",t=5e3)=>this.show(new he(e,r),t);getPositionStrategy(r){let e=this.overlay.position().global(),t=r.positionVertical,i=r.positionHorizontal;return t==="center"?e.centerVertically():t==="top"?e.top(this.getTopPosition()):t==="bottom"&&e.bottom(this.getBottomPosition()),i==="center"?e.centerHorizontally():i==="left"?e.left(this.getLeftPosition()):i==="right"&&e.right(this.getRightPosition()),e}getTopPosition=()=>this.toastConfig.positionConfig.topPx+"px";getBottomPosition=()=>this.toastConfig.positionConfig.bottomPx+"px";getRightPosition=()=>this.toastConfig.positionConfig.rightPx+"px";getLeftPosition=()=>this.toastConfig.positionConfig.leftPx+"px";getInjector(r,e,t){return G.create({providers:[{provide:he,useValue:r},{provide:Me,useValue:e}],parent:t})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=A({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{Qi as a,_o as b};
